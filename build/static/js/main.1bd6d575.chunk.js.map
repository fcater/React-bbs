{"version":3,"sources":["component/navbar.jsx","component/message.jsx","component/personalInformation.jsx","services/httpService.js","services/userService.js","services/authServices.js","component/setting.jsx","component/introduction.jsx","component/activities.jsx","component/myConcern.jsx","component/findFriends.jsx","component/userlist.jsx","component/container/listGroup.jsx","services/articleService.js","component/common/shareBox.jsx","component/common/creatBox.jsx","component/container/commentArea.jsx","component/container/comment.jsx","component/common/SVG.jsx","component/container/svg-group.jsx","component/container/user.jsx","component/container/articleInfo.jsx","component/container/sharer.jsx","component/container/container.jsx","component/common/shortcutBar.jsx","component/content.jsx","component/common/mobileShortcut.jsx","component/toggle.jsx","component/register.jsx","component/login.jsx","component/logout.jsx","component/common/protectedRoute.jsx","component/common/adminProtectedRoute.jsx","component/test.jsx","App.js","serviceWorker.js","index.js"],"names":["NavBar","theme","user","onQuery","onQueryOption","id","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","to","href","src","portrait","alt","style","width","height","objectFit","aria-disabled","userName","onChange","bind","value","placeholder","onClick","role","aria-haspopup","viewBox","fill","xmlns","d","aria-labelledby","isAdmin","Message","Fragment","PersonalInformation","document","documentElement","clientWidth","email","_id","sex","registrationrDate","slice","window","location","axios","defaults","baseURL","process","interceptors","response","use","error","status","console","log","alert","Promise","reject","get","post","put","delete","jwt","localStorage","getItem","a","http","apiEndpoint","headers","getPortrait","getAllUsers","register","password","update","Delete","userId","data","setItem","jwtDecode","getCurrentUserOffLine","ex","login","loginWithJwt","logout","removeItem","getCurrentUser","getCurrentUserId","compareAuthorization","operationId","Setting","state","imgUrl","errors","schemaObj","Joi","string","max","required","min","label","boolean","minDomainSegments","tlds","allow","schema","object","handleChange","e","currentTarget","validateProperty","setState","handleSex","handleImgChange","file","target","files","size","reader","FileReader","readAsDataURL","onload","imgcode","result","webkitURL","createObjectURL","validata","validate","abortEarly","details","item","path","message","name","obj","handlePut","userService","auth","this","props","disabled","htmlFor","defaultValue","defaultChecked","aria-describedby","Component","Introduction","Activities","MyConcern","FindFriends","UserList","userList","test","userToDelete","handleUserToDelete","handleUserDelete","fmt","date","ret","opt","getFullYear","toString","getMonth","getDate","getHours","getMinutes","getSeconds","k","RegExp","exec","replace","length","padStart","authServices","dateFormat","Date","callback","userListExceptAdminAndNobody","filter","u","map","key","tabIndex","data-dismiss","aria-hidden","fontSize","ListGroup","options","top","o","rel","getArticles","newArticle","newArticles","author","title","img","likeArticles","articleId","like","shareArticles","article","shareWord","sharer","content","oldDate","reviewArticles","comment","deleteArticles","deleteComment","ShareBox","share","onClose","onShare","shareBox","shareword","cols","rows","shareTip","maxLength","CreatBox","forwardRef","ref","onUpload","onUrlChange","onTitle","onNewArticle","imgView","resize","accept","CommentArea","talkArea","onFocus","onBlur","onComment","commentHeight","commentTip","Comment","dateRevise","onCommentDelete","admin","forEach","c","commentDate","backgroundColor","word","HeartSVG","indexOf","LikeSVG","device","onLike","some","TalkSVG","onTalk","talk","ShareSVG","SvgGroup","onShareBoxOpen","User","query","onDelete","authorized","dateToMap","nameQuery","option","nameBefore","nameAfter","fontWeight","color","textAlign","ArticleInfo","titleQuery","titleBefore","titleAfter","Sharer","Container","articles","handleLike","articleService","initializeLocalArticleProperties","handleFocus","handleBlur","handleTalk","handleComment","handleShareWord","handleShare","handleShareBoxOpen","handleShareBoxClose","handleDelete","handleCommentDelete","handleImgUpload","imgRef","current","click","handleImgUrl","url","handleNewArticleTitle","handleNewArticle","React","createRef","allUsersId","articlesQuery","includes","newArticlePlaceholder","onHighLight","handleHighLihghtString","axis","handle","defaultPosition","x","y","bounds","left","right","position","grid","scale","onStart","handleStart","onDrag","handleDrag","onStop","handleStop","zIndex","ShortcutBar","Content","MobileShortcut","toggle","handleTool","Toggle","onSwitch","bgcolor","Register","translate","handleSubmit","doSubmit","autoComplete","Login","warning","onSubmit","Logout","ProtectedRoute","component","render","rest","AdminProtectedRoute","Test","App","deviceType","handleSiwtch","handleQueryOption","handleQuery","handleDeviceType","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.1bd6d575.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavBar = ({ theme, user, onQuery, onQueryOption }) => {\r\n  return theme === \"daytime\" ? (\r\n    <nav id=\"top\" className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item active mr-3\">\r\n            <Link className=\"nav-link\" to=\"/\">\r\n              主页 <span className=\"sr-only\">(current)</span>\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item mr-5\">\r\n            <Link className=\"nav-link\" to=\"/message\">\r\n              留言\r\n            </Link>\r\n          </li>\r\n\r\n          <li className=\"nav-item ml-5\">\r\n            <a className=\"nav-link\" href=\"/#\">\r\n              {user ? (\r\n                <img\r\n                  src={user.portrait}\r\n                  alt=\"\"\r\n                  className=\"pl-0 pr-0 rounded-circle  \"\r\n                  style={{\r\n                    width: \"2em\",\r\n                    height: \"2em\",\r\n                    objectFit: \"cover\",\r\n                  }}\r\n                />\r\n              ) : (\r\n                <i className=\"fa fa-user-circle-o fa-2x\"></i>\r\n              )}\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <a className=\"nav-link disabled\" href=\"/#\" aria-disabled=\"true\">\r\n              {user && user.userName} —— (欢迎来到我的论坛)\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <form className=\"form-inline my-2 my-lg-0\">\r\n          <select\r\n            className=\"custom-select\"\r\n            id=\"inputGroupSelect01\"\r\n            onChange={onQueryOption.bind(this)}\r\n          >\r\n            <option value=\"userName\">用户名</option>\r\n            <option value=\"title\">标题</option>\r\n          </select>\r\n\r\n          <div>\r\n            <input\r\n              className=\"form-control mr-sm-2\"\r\n              type=\"search\"\r\n              placeholder=\"输入...\"\r\n              aria-label=\"Search\"\r\n              onChange={onQuery.bind(this)}\r\n            />\r\n            <button\r\n              className=\"btn btn-outline-success my-2 my-sm-0\"\r\n              type=\"button\"\r\n              onClick={null}\r\n            >\r\n              搜索\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <ul className=\"navbar-nav d-flex justify-content-between\">\r\n          {user && (\r\n            <li className=\"nav-item dropdown\" style={{ width: \"50%\" }}>\r\n              <a\r\n                className=\"nav-link dropdown-toggle\"\r\n                href=\"/#\"\r\n                id=\"navbarDropdown\"\r\n                role=\"button\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <svg\r\n                  width=\"2em\"\r\n                  height=\"2em\"\r\n                  viewBox=\"0 0 16 16\"\r\n                  className=\"bi bi-person-lines-fill\"\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path d=\"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7 1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm2 9a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z\" />\r\n                </svg>\r\n                {/* 我还挺喜欢这个图标的fontawesome没找到一样的 */}\r\n              </a>\r\n              <div\r\n                className=\"dropdown-menu dropdown-menu-right\"\r\n                aria-labelledby=\"navbarDropdown\"\r\n              >\r\n                <Link className=\"dropdown-item\" to=\"/personal-information\">\r\n                  个人资料\r\n                </Link>\r\n                <Link className=\"dropdown-item\" to=\"/logout\">\r\n                  注销\r\n                </Link>\r\n                <div className=\"dropdown-divider\"></div>\r\n                {user.isAdmin && (\r\n                  <Link className=\"dropdown-item\" to=\"/userlist\">\r\n                    用户列表\r\n                  </Link>\r\n                )}\r\n                <Link className=\"dropdown-item\" to=\"/setting\">\r\n                  设置\r\n                </Link>\r\n              </div>\r\n            </li>\r\n          )}\r\n          <li className=\"nav-item\" style={{ width: \"40%\" }}>\r\n            {!user && (\r\n              <Link className=\"nav-link\" to=\"/login\">\r\n                <i className=\"fa fa-arrow-circle-right fa-2x\"></i>\r\n              </Link>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  ) : (\r\n    //夜间模式\r\n    <nav id=\"top\" className=\"navbar navbar-expand-lg navbar-light bg-dark\">\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item active mr-3 \">\r\n            <Link className=\"nav-link text-light\" to=\"/\">\r\n              主页 <span className=\"sr-only\">(current)</span>\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item mr-5\">\r\n            <Link className=\"nav-link text-light\" to=\"/message\">\r\n              留言\r\n            </Link>\r\n          </li>\r\n\r\n          <li className=\"nav-item ml-5\">\r\n            <a className=\"nav-link\" href=\"/#\">\r\n              {user ? (\r\n                <img\r\n                  src={user.portrait}\r\n                  alt=\"\"\r\n                  className=\"pl-0 pr-0 rounded-circle\"\r\n                  style={{\r\n                    width: \"2em\",\r\n                    height: \"2em\",\r\n                    objectFit: \"cover\",\r\n                  }}\r\n                />\r\n              ) : (\r\n                <i className=\"fa fa-user-circle-o fa-2x text-light\"></i>\r\n              )}\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <a\r\n              className=\"nav-link text-light disabled\"\r\n              href=\"/#\"\r\n              aria-disabled=\"true\"\r\n            >\r\n              {user && user.userName} —— (欢迎来到我的论坛)\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <form className=\"form-inline my-2 my-lg-0\">\r\n          <select\r\n            className=\"custom-select\"\r\n            id=\"inputGroupSelect01\"\r\n            onChange={onQueryOption.bind(this)}\r\n          >\r\n            <option value=\"userName\">用户名</option>\r\n            <option value=\"title\">标题</option>\r\n          </select>\r\n          <div>\r\n            <input\r\n              className=\"form-control mr-sm-2\"\r\n              type=\"search\"\r\n              placeholder=\"输入...\"\r\n              aria-label=\"Search\"\r\n              onChange={onQuery.bind(this)}\r\n            />\r\n            <button\r\n              className=\"btn btn-outline-success my-2 my-sm-0\"\r\n              type=\"button\"\r\n              onClick={null}\r\n            >\r\n              搜索\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <ul className=\"navbar-nav d-flex justify-content-between\">\r\n          {user && (\r\n            <li className=\"nav-item dropdown\" style={{ width: \"50%\" }}>\r\n              <a\r\n                className=\"nav-link dropdown-toggle\"\r\n                href=\"/#\"\r\n                id=\"navbarDropdown\"\r\n                role=\"button\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <svg\r\n                  width=\"2em\"\r\n                  height=\"2em\"\r\n                  viewBox=\"0 0 16 16\"\r\n                  className=\"bi bi-person-lines-fill\"\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path d=\"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7 1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm2 9a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z\" />\r\n                </svg>\r\n                {/* 我还挺喜欢这个图标的fontawesome没找到一样的 */}\r\n              </a>\r\n              <div\r\n                className=\"dropdown-menu dropdown-menu-right bg-dark\"\r\n                aria-labelledby=\"navbarDropdown\"\r\n              >\r\n                <Link\r\n                  className=\"dropdown-item text-light\"\r\n                  to=\"/personal-information\"\r\n                >\r\n                  个人资料\r\n                </Link>\r\n                <Link className=\"dropdown-item text-light\" to=\"/logout\">\r\n                  注销\r\n                </Link>\r\n                <div className=\"dropdown-divider\"></div>\r\n                {user.isAdmin && (\r\n                  <Link className=\"dropdown-item text-light\" to=\"/userlist\">\r\n                    用户列表\r\n                  </Link>\r\n                )}\r\n                <Link className=\"dropdown-item text-light\" to=\"/setting\">\r\n                  设置\r\n                </Link>\r\n              </div>\r\n            </li>\r\n          )}\r\n          <li className=\"nav-item\" style={{ width: \"40%\" }}>\r\n            {!user && (\r\n              <Link className=\"nav-link\" to=\"/login\">\r\n                <i className=\"fa fa-arrow-circle-right fa-2x text-light\"></i>\r\n              </Link>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\n\r\nconst Message = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container w-75 p-0\" style={{ width: \"18rem\" }}>\r\n        <img\r\n          src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcbLPN2JEEGYUwPn225uOuthw2Vrybkf0NBPZV3lWVUy0DuNYPSzVJ5.3I19szHeftVR4r52E.3*wdvFvFnF6iTc!/r\"\r\n          alt=\"\"\r\n          width=\"100%\"\r\n          className=\"m-0 p-0  d-inline\"\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PersonalInformation = ({ theme, user }) => {\r\n  if (!user) return (window.location = \"/\");\r\n  //如果在此页面刷新会丢失app传来的user\r\n  return theme === \"daytime\" ? (\r\n    <React.Fragment>\r\n      <div\r\n        className={\r\n          document.documentElement.clientWidth < 500\r\n            ? \"card container w-100 mb-5\"\r\n            : \"card container w-50 mb-5\"\r\n        }\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        <div className=\"row\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body w-50 col\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <Link\r\n            to=\"/setting\"\r\n            className=\"btn btn-primary col-1 h-25 p-0 mt-5 mr-5 text-white\"\r\n          >\r\n            修改\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <h5>Id：{user._id}</h5>\r\n          <h5>性别：{user.sex ? \"女\" : \"男\"}</h5>\r\n          <h5>头像：</h5>\r\n          <div className=\"row justify-content-md-center\">\r\n            <img className=\"w-50\" src={user.portrait} alt=\"\" />\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <small className=\"text-muted\">\r\n              注册时间：\r\n              {user.registrationrDate &&\r\n                user.registrationrDate.slice(0, 10) +\r\n                  \" | \" +\r\n                  user.registrationrDate.slice(11, 19)}\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  ) : (\r\n    //夜间模式\r\n    <React.Fragment>\r\n      <div\r\n        className={\r\n          document.documentElement.clientWidth < 500\r\n            ? \"card container w-100 mb-5 bg-dark text-light\"\r\n            : \"card container w-50 mb-5 bg-dark text-light\"\r\n        }\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        <div className=\"row\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body w-50 col\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <Link\r\n            to=\"/setting\"\r\n            className=\"btn btn-primary col-1 h-25 p-0 mt-5 mr-5 text-white\"\r\n          >\r\n            修改\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <h5>Id：{user._id}</h5>\r\n          <h5>性别：{user.sex ? \"女\" : \"男\"}</h5>\r\n          <h5>头像：</h5>\r\n          <div className=\"row justify-content-md-center\">\r\n            <img className=\"w-50\" src={user.portrait} alt=\"\" />\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <small className=\"text-muted\">\r\n              注册时间：\r\n              {user.registrationrDate &&\r\n                user.registrationrDate.slice(0, 10) +\r\n                  \" | \" +\r\n                  user.registrationrDate.slice(11, 19)}\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PersonalInformation;\r\n","import axios from 'axios'\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL\r\n\r\naxios.interceptors.response.use(null, error => {\r\n    const expectedError =\r\n        error.response &&\r\n        error.response.status >= 400 &&\r\n        error.response.status < 500\r\n\r\n    if (!expectedError) {\r\n        console.log(\"记录异常\", error);\r\n        alert('无法连接到数据库')\r\n    }\r\n\r\n    return Promise.reject(error)\r\n\r\n})\r\n\r\nexport default {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n}","import http from './httpService'\r\n\r\nconst apiEndpoint = '/users/'\r\nconst jwt = localStorage.getItem('token') || ''\r\n\r\nexport async function getPortrait(_id) {\r\n    return http.get(apiEndpoint + 'me', { headers: { 'x-auth-token': jwt } })\r\n\r\n}\r\n\r\nexport function getAllUsers() {\r\n    return http.get(apiEndpoint, { headers: { 'x-auth-token': jwt } })\r\n}\r\n//需要管理员权限\r\n\r\n\r\nexport function register(user) {\r\n    return http.post(apiEndpoint, {\r\n        userName: user.userName,\r\n        sex: user.sex,\r\n        email: user.email,\r\n        password: user.password,\r\n    })\r\n}\r\n\r\nexport function update(user) {\r\n    return http.put(\r\n        apiEndpoint + user._id,\r\n        {\r\n            userName: user.userName,\r\n            email: user.email,\r\n            password: user.password,\r\n            sex: user.sex,\r\n            portrait: user.portrait\r\n        },\r\n        { headers: { 'x-auth-token': jwt } }\r\n    )\r\n}\r\n\r\nexport function Delete(userId) {\r\n    return http.delete(apiEndpoint + userId, { headers: { 'x-auth-token': jwt } }\r\n    )\r\n}\r\n\r\nexport default {\r\n    getPortrait,\r\n    getAllUsers,\r\n    register,\r\n    update,\r\n    Delete\r\n}","import http from './httpService'\r\nimport jwtDecode from 'jwt-decode'\r\n\r\nconst apiEndpoint = '/auth'\r\nconst tokenKey = 'token'\r\n\r\nexport async function login(email, password) {\r\n    const { data: jwt } = await http.post(apiEndpoint, { email, password })\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function loginWithJwt(jwt) {\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport async function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey)\r\n        const { data } = await http.get('/users/me', { headers: { 'x-auth-token': jwt } })\r\n        const user = jwtDecode(jwt)\r\n        user.portrait = data.portrait\r\n        return user\r\n    }\r\n    catch (ex) { return null }\r\n}\r\n\r\nexport function getCurrentUserOffLine() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey)\r\n        return jwtDecode(jwt)\r\n    }\r\n    catch (ex) { return null }\r\n}\r\n\r\nexport function getCurrentUserId() {\r\n    try {\r\n        return jwtDecode(localStorage.getItem(tokenKey))\r\n    }\r\n    catch (ex) { return null }\r\n}\r\n\r\nexport function compareAuthorization(operationId, userId) {\r\n    return operationId === userId ? true : false;\r\n}\r\n\r\nexport default {\r\n    login,\r\n    loginWithJwt,\r\n    logout,\r\n    getCurrentUser,\r\n    getCurrentUserOffLine,\r\n    getCurrentUserId,\r\n    compareAuthorization\r\n\r\n}","import React, { Component } from \"react\";\r\nimport userService from \"../services/userService\";\r\nimport auth from \"../services/authServices\";\r\nimport Joi from \"joi\";\r\n\r\nclass Setting extends Component {\r\n  state = {\r\n    data: {},\r\n    imgUrl: \"\",\r\n    errors: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { user } = this.props;\r\n    const data = {\r\n      userName: user.userName,\r\n      sex: user.sex,\r\n      portrait: user.portrait,\r\n      _id: user._id,\r\n      email: user.email,\r\n    };\r\n    this.setState({ data, imgUrl: user.portrait });\r\n  }\r\n\r\n  schemaObj = {\r\n    _id: Joi.string().max(50).required(),\r\n    userName: Joi.string().min(3).max(10).required().label(\"用户名\"),\r\n    sex: Joi.boolean().required(),\r\n    email: Joi.string()\r\n      .required()\r\n      .min(5)\r\n      .max(30)\r\n      .label(\"邮箱\")\r\n      .email({ minDomainSegments: 2, tlds: { allow: [\"com\", \"net\"] } }),\r\n    password: Joi.string().min(6).max(15).required().label(\"密码\"),\r\n    portrait: Joi.string(),\r\n  };\r\n  schema = Joi.object(this.schemaObj);\r\n\r\n  handleChange = (e) => {\r\n    let { data, errors } = this.state;\r\n    data[e.currentTarget.id] = e.currentTarget.value;\r\n    errors[e.currentTarget.id] = this.validateProperty(\r\n      e.currentTarget.id,\r\n      e.currentTarget.value\r\n    );\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleSex = (sex) => {\r\n    const { data } = this.state;\r\n    sex === \"male\" ? (data.sex = false) : (data.sex = true);\r\n    this.setState({ data });\r\n  };\r\n\r\n  handleImgChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.size > 1048576) {\r\n      return alert(\"上传图片不能超过1mb\");\r\n    }\r\n    if (file) {\r\n      const { data } = this.state;\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        const imgcode = e.target.result;\r\n        data.portrait = imgcode;\r\n      };\r\n      //将图片文件转换成bs64码\r\n      const imgUrl = window.webkitURL.createObjectURL(file);\r\n      this.setState({ imgUrl, data });\r\n      //生成即时预览\r\n    }\r\n  };\r\n\r\n  validata = () => {\r\n    const { error } = this.schema.validate(this.state.data, {\r\n      abortEarly: false,\r\n    });\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n\r\n  validateProperty = (name, value) => {\r\n    const obj = { [name]: value };\r\n    const schema = Joi.object({ [name]: this.schemaObj[name] });\r\n    const { error } = schema.validate(obj);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handlePut = async () => {\r\n    try {\r\n      const user = await userService.update(this.state.data);\r\n      auth.loginWithJwt(user.headers[\"x-auth-token\"]);\r\n      window.location = \"/\";\r\n    } catch (ex) {}\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { data, errors } = this.state;\r\n    //如果在此页面刷新会丢失app传来的user\r\n    if (!user) window.location = \"/\";\r\n    return this.props.theme === \"daytime\" ? (\r\n      <div\r\n        className={\r\n          document.documentElement.clientWidth < 500\r\n            ? \"card container w-100 mb-5\"\r\n            : \"card container w-50 mb-5\"\r\n        }\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        <div className=\"row\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body w-50 col\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <button\r\n            disabled={this.validata()}\r\n            className=\"btn btn-primary col-1 h-25 p-0 mt-5 mr-5 text-white\"\r\n            onClick={this.handlePut}\r\n          >\r\n            保存\r\n          </button>\r\n        </div>\r\n        <h5>Id：{user._id}</h5>\r\n        <div className=\"border rounded\">\r\n          <div className=\"p-3\">\r\n            <label htmlFor=\"userName\">用户名</label>\r\n            <input\r\n              type=\"userName\"\r\n              className=\"form-control\"\r\n              id=\"userName\"\r\n              onChange={this.handleChange}\r\n              defaultValue={data.userName}\r\n            />\r\n            {errors.userName && (\r\n              <div className=\"alert alert-danger\">{errors.userName}</div>\r\n            )}\r\n            <label htmlFor=\"password\">密码</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control \"\r\n              id=\"password\"\r\n              onChange={this.handleChange}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"alert alert-danger\">{errors.password}</div>\r\n            )}\r\n            <label htmlFor=\"sex\">性别</label>\r\n            <div className=\"form-check m-2\">\r\n              <input\r\n                className=\"m-0 mt-2 form-check-input\"\r\n                type=\"radio\"\r\n                id=\"boy\"\r\n                name=\"sex\"\r\n                value=\"male\"\r\n                defaultChecked={!data.sex}\r\n                onClick={() => this.handleSex(\"male\")}\r\n              />\r\n              <label className=\"form-check-label pl-3 pr-3\" htmlFor=\"boy\">\r\n                男\r\n              </label>\r\n              <input\r\n                className=\" m-0 mt-2 form-check-input\"\r\n                type=\"radio\"\r\n                id=\"girl\"\r\n                name=\"sex\"\r\n                value=\"female\"\r\n                defaultChecked={data.sex}\r\n                onClick={() => this.handleSex(\"female\")}\r\n              />\r\n              <label className=\"form-check-label pl-3\" htmlFor=\"girl\">\r\n                女\r\n              </label>\r\n            </div>\r\n\r\n            <h6>头像：</h6>\r\n            <div className=\"row justify-content-md-center\">\r\n              <img className=\"mb-3 w-25\" src={this.state.imgUrl} alt=\"\" />\r\n            </div>\r\n            <div className=\"custom-file\">\r\n              <input\r\n                type=\"file\"\r\n                className=\"custom-file-input\"\r\n                id=\"inputGroupFile01\"\r\n                aria-describedby=\"inputGroupFileAddon01\"\r\n                onChange={this.handleImgChange}\r\n              />\r\n              <label className=\"custom-file-label\" htmlFor=\"inputGroupFile01\">\r\n                选择图像 (不超过1mb)\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <small className=\"text-muted text-center\">\r\n          注册时间：\r\n          {user.registrationrDate &&\r\n            user.registrationrDate.slice(0, 10) +\r\n              \" | \" +\r\n              user.registrationrDate.slice(11, 19)}\r\n        </small>\r\n      </div>\r\n    ) : (\r\n      //夜间模式\r\n      <div\r\n        className={\r\n          document.documentElement.clientWidth < 500\r\n            ? \"card container w-100 mb-5 bg-dark text-light\"\r\n            : \"card container w-50 mb-5 bg-dark text-light\"\r\n        }\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        <div className=\"row\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body w-50 col\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <button\r\n            disabled={this.validata()}\r\n            className=\"btn btn-primary col-1 h-25 p-0 mt-5 mr-5 text-white\"\r\n            onClick={this.handlePut}\r\n          >\r\n            保存\r\n          </button>\r\n        </div>\r\n        <h5>Id：{user._id}</h5>\r\n        <div className=\"border rounded\">\r\n          <div className=\"p-3\">\r\n            <label htmlFor=\"userName\">用户名</label>\r\n            <input\r\n              type=\"userName\"\r\n              className=\"form-control\"\r\n              id=\"userName\"\r\n              onChange={this.handleChange}\r\n              defaultValue={data.userName}\r\n            />\r\n            {errors.userName && (\r\n              <div className=\"alert alert-danger\">{errors.userName}</div>\r\n            )}\r\n            <label htmlFor=\"password\">密码</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control \"\r\n              id=\"password\"\r\n              onChange={this.handleChange}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"alert alert-danger\">{errors.password}</div>\r\n            )}\r\n            <label htmlFor=\"sex\">性别</label>\r\n            <div className=\"form-check m-2\">\r\n              <input\r\n                className=\"m-0 mt-2 form-check-input\"\r\n                type=\"radio\"\r\n                id=\"boy\"\r\n                name=\"sex\"\r\n                value=\"male\"\r\n                defaultChecked={!data.sex}\r\n                onClick={() => this.handleSex(\"male\")}\r\n              />\r\n              <label className=\"form-check-label pl-3 pr-3\" htmlFor=\"boy\">\r\n                男\r\n              </label>\r\n              <input\r\n                className=\" m-0 mt-2 form-check-input\"\r\n                type=\"radio\"\r\n                id=\"girl\"\r\n                name=\"sex\"\r\n                value=\"female\"\r\n                defaultChecked={data.sex}\r\n                onClick={() => this.handleSex(\"female\")}\r\n              />\r\n              <label className=\"form-check-label pl-3\" htmlFor=\"girl\">\r\n                女\r\n              </label>\r\n            </div>\r\n\r\n            <h6>头像：</h6>\r\n            <div className=\"row justify-content-md-center\">\r\n              <img className=\"mb-3 w-25\" src={this.state.imgUrl} alt=\"\" />\r\n            </div>\r\n            <div className=\"custom-file\">\r\n              <input\r\n                type=\"file\"\r\n                className=\"custom-file-input\"\r\n                id=\"inputGroupFile01\"\r\n                aria-describedby=\"inputGroupFileAddon01\"\r\n                onChange={this.handleImgChange}\r\n              />\r\n              <label className=\"custom-file-label\" htmlFor=\"inputGroupFile01\">\r\n                选择图像 (不超过1mb)\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <small className=\"text-muted text-center\">\r\n          注册时间：\r\n          {user.registrationrDate &&\r\n            user.registrationrDate.slice(0, 10) +\r\n              \" | \" +\r\n              user.registrationrDate.slice(11, 19)}\r\n        </small>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Setting;\r\n","import React from \"react\";\r\n\r\nconst Introduction = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container w-75 p-0\" style={{ width: \"18rem\" }}>\r\n        <img\r\n          src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcbLPN2JEEGYUwPn225uOuthw2Vrybkf0NBPZV3lWVUy0DuNYPSzVJ5.3I19szHeftVR4r52E.3*wdvFvFnF6iTc!/r\"\r\n          alt=\"\"\r\n          width=\"100%\"\r\n          className=\"m-0 p-0  d-inline\"\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Introduction;\r\n","import React from \"react\";\r\n\r\nconst Activities = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container w-75 p-0\" style={{ width: \"18rem\" }}>\r\n        <img\r\n          src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcbLPN2JEEGYUwPn225uOuthw2Vrybkf0NBPZV3lWVUy0DuNYPSzVJ5.3I19szHeftVR4r52E.3*wdvFvFnF6iTc!/r\"\r\n          alt=\"\"\r\n          width=\"100%\"\r\n          className=\"m-0 p-0  d-inline\"\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Activities;\r\n","import React from \"react\";\r\n\r\nconst MyConcern = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container w-75 p-0\" style={{ width: \"18rem\" }}>\r\n        <img\r\n          src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcbLPN2JEEGYUwPn225uOuthw2Vrybkf0NBPZV3lWVUy0DuNYPSzVJ5.3I19szHeftVR4r52E.3*wdvFvFnF6iTc!/r\"\r\n          alt=\"\"\r\n          width=\"100%\"\r\n          className=\"m-0 p-0  d-inline\"\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MyConcern;\r\n","import React from \"react\";\r\n\r\nconst FindFriends = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container w-75 p-0\" style={{ width: \"18rem\" }}>\r\n        <img\r\n          src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcbLPN2JEEGYUwPn225uOuthw2Vrybkf0NBPZV3lWVUy0DuNYPSzVJ5.3I19szHeftVR4r52E.3*wdvFvFnF6iTc!/r\"\r\n          alt=\"\"\r\n          width=\"100%\"\r\n          className=\"m-0 p-0  d-inline\"\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FindFriends;\r\n","import React, { Component } from \"react\";\r\nimport authServices from \"../services/authServices\";\r\nimport userService from \"../services/userService\";\r\n\r\nclass UserList extends Component {\r\n  state = {\r\n    userList: [],\r\n    test: [],\r\n    user: {},\r\n    userToDelete: {},\r\n  };\r\n\r\n  dateFormat(fmt, date) {\r\n    let ret;\r\n    const opt = {\r\n      \"Y+\": date.getFullYear().toString(), // 年\r\n      \"m+\": (date.getMonth() + 1).toString(), // 月\r\n      \"d+\": date.getDate().toString(), // 日\r\n      \"H+\": date.getHours().toString(), // 时\r\n      \"M+\": date.getMinutes().toString(), // 分\r\n      \"S+\": date.getSeconds().toString(), // 秒\r\n      // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n    };\r\n    for (let k in opt) {\r\n      ret = new RegExp(\"(\" + k + \")\").exec(fmt);\r\n      if (ret) {\r\n        fmt = fmt.replace(\r\n          ret[1],\r\n          ret[1].length === 1 ? opt[k] : opt[k].padStart(ret[1].length, \"0\")\r\n        );\r\n      }\r\n    }\r\n    return fmt;\r\n  }\r\n  //转换日期格式\r\n\r\n  async componentDidMount() {\r\n    const user = this.props.user || (await authServices.getCurrentUser);\r\n    const { data } = await userService.getAllUsers();\r\n    for (let user of data) {\r\n      const date = this.dateFormat(\r\n        \"YYYY-mm-dd HH:MM:SS\",\r\n        new Date(user.registrationrDate)\r\n      );\r\n      user.registrationrDate = date;\r\n      //坑爹的mongdb,utc时间转中国标准时间\r\n    }\r\n    this.setState({ user, userList: data });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState = (state, callback) => {\r\n      return;\r\n    };\r\n  }\r\n  //子组件设置被挂起后注销异步操作。\r\n\r\n  handleUserToDelete = (user) => {\r\n    this.setState({ userToDelete: user });\r\n  };\r\n\r\n  handleUserDelete = async (userId) => {\r\n    const { data } = await userService.Delete(userId);\r\n    this.setState({ userList: data, userToDelete: {} });\r\n  };\r\n\r\n  render() {\r\n    const { user, userList } = this.state;\r\n    const nobody = \"5ffc2e9880aa87ceaca0364a\";\r\n    // const userListExceptAdmin = userList.filter((u) => u._id !== user._id);\r\n    const userListExceptAdminAndNobody = userList.filter(\r\n      (u) => u._id !== nobody && u._id !== user._id\r\n    );\r\n    return this.props.theme === \"daytime\" ? (\r\n      <div className=\"card container w-100 mb-5\">\r\n        <div className=\"row border-bottom\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body col-5 p-0 pt-3\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1 text-danger\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <div className=\"row align-items-center\">\r\n            <p className=\"text-muted\">\r\n              注册时间：\r\n              {user.registrationrDate &&\r\n                user.registrationrDate.slice(0, 10) +\r\n                  \" | \" +\r\n                  user.registrationrDate.slice(11, 19)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {userListExceptAdminAndNobody.map((u) => (\r\n          <div key={u._id} className=\"row border-top\">\r\n            <img\r\n              src={u.portrait}\r\n              alt=\"\"\r\n              className=\"m-3 rounded-circle d-inline\"\r\n              style={{\r\n                width: \"4em\",\r\n                height: \"4em\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n            <div className=\"card-body col-5 p-0 pt-3\">\r\n              <div className=\"row\">\r\n                <h5 className=\"card-title pl-3\">{u.userName}</h5>\r\n                <small className=\"text-muted pl-2 pt-1\">\r\n                  {u.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n                </small>\r\n              </div>\r\n              <p className=\"card-text\">{u.email}</p>\r\n            </div>\r\n            <div className=\"row align-items-center\">\r\n              <p className=\"text-muted m-0\">\r\n                注册时间：\r\n                {u.registrationrDate &&\r\n                  u.registrationrDate.slice(0, 10) +\r\n                    \" | \" +\r\n                    u.registrationrDate.slice(11, 19)}\r\n              </p>\r\n              <button\r\n                data-toggle=\"modal\"\r\n                data-target=\"#userDeleteWarning\"\r\n                className=\"btn btn-danger ml-4 \"\r\n                onClick={() => this.handleUserToDelete(u)}\r\n              >\r\n                删除\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"userDeleteWarning\"\r\n          tabIndex=\"1\"\r\n          role=\"dialog\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">【重要提醒】</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body row\">\r\n                <i\r\n                  className=\"fa fa-warning fa-fw ml-2\"\r\n                  style={{ fontSize: \"2em\" }}\r\n                ></i>\r\n                <p className=\"m-0 ml-2 w-75\" style={{ fontSize: \"1em\" }}>\r\n                  被删除的用户不可恢复！！！请确认删除用户【\r\n                  {this.state.userToDelete.userName}】\r\n                </p>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  取消\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={() =>\r\n                    this.handleUserDelete(this.state.userToDelete._id)\r\n                  }\r\n                >\r\n                  确认\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      //夜间模式\r\n      <div className=\"card container w-100 mb-5 bg-dark text-light\">\r\n        <div className=\"row border-bottom\">\r\n          <img\r\n            src={user.portrait}\r\n            alt=\"\"\r\n            className=\"m-3 rounded-circle d-inline\"\r\n            style={{\r\n              width: \"4em\",\r\n              height: \"4em\",\r\n              objectFit: \"cover\",\r\n            }}\r\n          />\r\n          <div className=\"card-body col-5 p-0 pt-3\">\r\n            <div className=\"row\">\r\n              <h5 className=\"card-title pl-3\">{user.userName}</h5>\r\n              <small className=\"text-muted pl-2 pt-1 text-danger\">\r\n                {user.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n              </small>\r\n            </div>\r\n            <p className=\"card-text\">{user.email}</p>\r\n          </div>\r\n          <div className=\"row align-items-center\">\r\n            <p className=\"text-muted\">\r\n              注册时间：\r\n              {user.registrationrDate &&\r\n                user.registrationrDate.slice(0, 10) +\r\n                  \" | \" +\r\n                  user.registrationrDate.slice(11, 19)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {userListExceptAdminAndNobody.map((u) => (\r\n          <div key={u._id} className=\"row border-top\">\r\n            <img\r\n              src={u.portrait}\r\n              alt=\"\"\r\n              className=\"m-3 rounded-circle d-inline\"\r\n              style={{\r\n                width: \"4em\",\r\n                height: \"4em\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n            <div className=\"card-body col-5 p-0 pt-3\">\r\n              <div className=\"row\">\r\n                <h5 className=\"card-title pl-3\">{u.userName}</h5>\r\n                <small className=\"text-muted pl-2 pt-1\">\r\n                  {u.isAdmin ? \"(管理员)\" : \"(用户)\"}\r\n                </small>\r\n              </div>\r\n              <p className=\"card-text\">{u.email}</p>\r\n            </div>\r\n            <div className=\"row align-items-center\">\r\n              <p className=\"text-muted m-0\">\r\n                注册时间：\r\n                {u.registrationrDate &&\r\n                  u.registrationrDate.slice(0, 10) +\r\n                    \" | \" +\r\n                    u.registrationrDate.slice(11, 19)}\r\n              </p>\r\n              <button\r\n                data-toggle=\"modal\"\r\n                data-target=\"#userDeleteWarning\"\r\n                className=\"btn btn-danger ml-4 \"\r\n                onClick={() => this.handleUserToDelete(u)}\r\n              >\r\n                删除\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div\r\n          className=\"modal fade\"\r\n          id=\"userDeleteWarning\"\r\n          tabIndex=\"1\"\r\n          role=\"dialog\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content bg-dark text-light\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">【重要提醒】</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body row\">\r\n                <i\r\n                  className=\"fa fa-warning fa-fw ml-2\"\r\n                  style={{ fontSize: \"2em\" }}\r\n                ></i>\r\n                <p className=\"m-0 ml-2 w-75\" style={{ fontSize: \"1em\" }}>\r\n                  被删除的用户不可恢复！！！请确认删除用户【\r\n                  {this.state.userToDelete.userName}】\r\n                </p>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  data-dismiss=\"modal\"\r\n                >\r\n                  取消\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  data-dismiss=\"modal\"\r\n                  onClick={() =>\r\n                    this.handleUserDelete(this.state.userToDelete._id)\r\n                  }\r\n                >\r\n                  确认\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserList;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ListGroup = (props) => {\r\n  const { theme } = props;\r\n  const options = [\r\n    { label: \"简介\", path: \"/introduction\" },\r\n    { label: \"活动\", path: \"/activities\" },\r\n    { label: \"我的关注\", path: \"/my-concern\" },\r\n    { label: \"查找好友\", path: \"/find-friends\" },\r\n  ];\r\n\r\n  return theme === \"daytime\" ? (\r\n    <div className=\" list-group col-3\">\r\n      <div className=\"sticky-top\" style={{ top: \"1em\" }}>\r\n        <div className=\"rounded\">\r\n          {options.map((o) => (\r\n            <Link\r\n              key={o.label}\r\n              className=\"list-group-item list-group-item-action bg-light\"\r\n              to={o.path}\r\n            >\r\n              {o.label}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"mt-3\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">内容标题</h5>\r\n              <h6 className=\"card-subtitle mb-2 text-muted\">内容描述</h6>\r\n              <p className=\"card-text\">\r\n                一些快速的示例文字，在卡片标题的基础上，构成卡片内容的主体。\r\n              </p>\r\n              <div className=\"text-center\">\r\n                <a\r\n                  href=\"https://user.qzone.qq.com/1303140304/\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"card-link text-danger font-weight-bolder\"\r\n                >\r\n                  qq空间\r\n                </a>\r\n                <a\r\n                  href=\"https://github.com/fcater/React-bbs\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"card-link  text-danger font-weight-bolder\"\r\n                >\r\n                  代码仓库\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title text-muted\">论坛名称</h5>\r\n              <h6 className=\"card-subtitle mt-2 text-muted\">版权声明</h6>\r\n              <p className=\"card-text\"></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    //夜间模式\r\n    <div className=\" list-group col-3\">\r\n      <div className=\"sticky-top\" style={{ top: \"1em\" }}>\r\n        <div className=\"rounded\">\r\n          {options.map((o) => (\r\n            <Link\r\n              key={o.label}\r\n              className=\"list-group-item list-group-item-action bg-dark text-light\"\r\n              to={o.path}\r\n            >\r\n              {o.label}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"mt-3\">\r\n          <div className=\"card bg-dark text-light\">\r\n            <div className=\"card-body \">\r\n              <h5 className=\"card-title\">内容标题</h5>\r\n              <h6 className=\"card-subtitle mb-2 text-muted\">内容描述</h6>\r\n              <p className=\"card-text\">\r\n                一些快速的示例文字，在卡片标题的基础上，构成卡片内容的主体。\r\n              </p>\r\n              <div className=\"text-center\">\r\n                <a\r\n                  href=\"https://user.qzone.qq.com/1303140304/\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"card-link text-danger font-weight-bolder\"\r\n                >\r\n                  qq空间\r\n                </a>\r\n                <a\r\n                  href=\"https://github.com/fcater/React-bbs\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"card-link  text-danger font-weight-bolder\"\r\n                >\r\n                  代码仓库\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <div className=\"card bg-dark text-light\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title text-muted\">论坛名称</h5>\r\n              <h6 className=\"card-subtitle mt-2 text-muted\">版权声明</h6>\r\n              <p className=\"card-text\"></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListGroup;\r\n","import http from './httpService'\r\n\r\nconst apiEndpoint = '/articles/'\r\nconst jwt = localStorage.getItem('token') || ''\r\n\r\nexport function getArticles() {\r\n    return http.get(apiEndpoint)\r\n}\r\n\r\nexport function newArticle(newArticles) {\r\n    return http.post(apiEndpoint, {\r\n        author: newArticles.author,\r\n        title: newArticles.title,\r\n        img: newArticles.img,\r\n    }, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport function likeArticles(articleId, user) {\r\n    return http.put(apiEndpoint + articleId + '/like', {\r\n        author: {},\r\n        like: { _id: user._id, userName: user.userName }\r\n    }, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport function reviewArticles(articleId, user, comment) {\r\n    return http.put(apiEndpoint + articleId, {\r\n        author: user._id,\r\n        comment: {\r\n            \"word\": comment,\r\n            \"commentDate\": new Date(),\r\n        }\r\n    }, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport function shareArticles(article, user, shareWord) {\r\n    console.log(shareWord);\r\n    console.log(article, user);\r\n    return http.post(apiEndpoint + article._id, {\r\n        author: article.author._id,\r\n        sharer: user._id,\r\n        content: shareWord,\r\n        title: article.title,\r\n        img: article.img,\r\n        oldDate: article.date\r\n    }, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport function deleteArticles(id) {\r\n    return http.delete(apiEndpoint + id, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport function deleteComment(id, comment) {\r\n    return http.put(apiEndpoint + id + '/comment', { comment }, { headers: { 'x-auth-token': jwt } })\r\n}\r\n\r\nexport default {\r\n    getArticles,\r\n    newArticle,\r\n    likeArticles,\r\n    shareArticles,\r\n    reviewArticles,\r\n    deleteArticles,\r\n    deleteComment\r\n}","import React from \"react\";\r\n\r\nconst ShareBox = ({ share, theme, a, onClose, onChange, onShare }) => {\r\n  console.log();\r\n  return theme === \"daytime\"\r\n    ? a.shareBox && (\r\n        <div className=\"share-box position-absolute bg-white rounded-lg shadow\">\r\n          <div className=\"d-flex justify-content-between drag-head\">\r\n            <p\r\n              className=\"p-2 pl-3 m-0 rounded-top text-dark drag handle\"\r\n              style={{ width: \"90%\" }}\r\n            >\r\n              转发\r\n            </p>\r\n            <span\r\n              className=\"align-text-bottom pointer p-2 pr-3\"\r\n              onClick={onClose}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"m-3  row bg-light rounded-lg pointer\">\r\n            {a.img && <img width=\"50px\" height=\"50px\" src={a.img} alt=\"\" />}\r\n            <p className=\"ml-3\">{a.title}</p>\r\n          </div>\r\n          <div className=\"d-flex flex-column m-3 \">\r\n            <textarea\r\n              name=\"text\"\r\n              value={share.shareword}\r\n              cols=\"50\"\r\n              rows=\"1\"\r\n              className=\"form-control \"\r\n              aria-label=\"Text input with radio button \"\r\n              placeholder={share.shareTip}\r\n              maxLength=\"20\"\r\n              onChange={onChange}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              className=\"btn  border-0  shadow-none ml-auto text-light bg-primary mt-2 mb-2\"\r\n              value=\"发送\"\r\n              onClick={onShare}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    : //夜间模式\r\n      a.shareBox && (\r\n        <div className=\"share-box position-absolute bg-dark text-light rounded-lg shadow border\">\r\n          <div className=\"d-flex justify-content-between drag-head rounded-top  border-bottom bg-dark text-light\">\r\n            <p className=\"p-2 pl-3 m-0  drag handle\" style={{ width: \"90%\" }}>\r\n              转发\r\n            </p>\r\n            <span\r\n              className=\"align-text-bottom  pointer p-2 pr-3\"\r\n              onClick={onClose}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"m-3  row bg-dark text-light rounded-lg pointer\">\r\n            {a.img && <img width=\"50px\" height=\"50px\" src={a.img} alt=\"\" />}\r\n            <p className=\"ml-3\">{a.title}</p>\r\n          </div>\r\n          <div className=\"d-flex flex-column m-3 \">\r\n            <textarea\r\n              name=\"text\"\r\n              value={share.shareword}\r\n              cols=\"50\"\r\n              rows=\"1\"\r\n              className=\"form-control \"\r\n              aria-label=\"Text input with radio button \"\r\n              placeholder={share.shareTip}\r\n              maxLength=\"20\"\r\n              onChange={onChange}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              className=\"btn  border-0  shadow-none ml-auto text-light bg-secondary mt-2 mb-2\"\r\n              value=\"发送\"\r\n              onClick={onShare}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n};\r\n\r\nexport default ShareBox;\r\n","import React, { forwardRef } from \"react\";\r\n\r\nconst CreatBox = forwardRef((props, ref) => {\r\n  const {\r\n    theme,\r\n    newArticle,\r\n    onUpload,\r\n    onUrlChange,\r\n    onTitle,\r\n    onNewArticle,\r\n  } = props;\r\n  return theme === \"daytime\" ? (\r\n    <div className=\"creat-box bg-white rounded-lg shadow\">\r\n      <p className=\"p-2 pl-3 pr-3 rounded-top text-dark d-flex justify-content-between drag\">\r\n        新的动态\r\n      </p>\r\n      <div className=\"d-flex flex-column m-3 \">\r\n        <img src={newArticle.imgView} alt=\"\" className=\"pb-2\" width=\"50%\" />\r\n        <textarea\r\n          name=\"text\"\r\n          cols=\"50\"\r\n          rows=\"3\"\r\n          className=\"form-control \"\r\n          aria-label=\"Text input with radio button \"\r\n          placeholder={newArticle.placeholder}\r\n          maxLength=\"100\"\r\n          value={newArticle.title}\r\n          onChange={onTitle}\r\n          style={{ resize: \"none\" }}\r\n        />\r\n        <div className=\"d-flex justify-content-between\">\r\n          <i\r\n            className=\"fa fa-image text-primary fa-2x mt-2 pointer\"\r\n            onClick={onUpload}\r\n          ></i>\r\n          <input\r\n            accept=\"image/png, image/jpeg,image/jpeg/gif\"\r\n            type=\"file\"\r\n            className=\"file-input d-none\"\r\n            id=\"inputGroupFile01\"\r\n            aria-describedby=\"inputGroupFileAddon01\"\r\n            ref={ref}\r\n            onChange={onUrlChange}\r\n          />\r\n          <input\r\n            type=\"button\"\r\n            className=\"btn border-0  shadow-none text-light bg-primary mt-2 mb-2\"\r\n            value=\"发表\"\r\n            onClick={onNewArticle}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    //夜间模式\r\n    <div className=\"creat-box bg-dark text-light  rounded-lg shadow\">\r\n      <p className=\"p-2 pl-3 pr-3 rounded-top  d-flex justify-content-between drag\">\r\n        新的动态\r\n      </p>\r\n      <div className=\"d-flex flex-column m-3 \">\r\n        <img src={newArticle.imgView} alt=\"\" className=\"pb-2\" width=\"50%\" />\r\n        <textarea\r\n          name=\"text\"\r\n          cols=\"50\"\r\n          rows=\"3\"\r\n          className=\"form-control bg-secondary text-light\"\r\n          aria-label=\"Text input with radio button \"\r\n          placeholder={newArticle.placeholder}\r\n          maxLength=\"100\"\r\n          value={newArticle.title}\r\n          onChange={onTitle}\r\n          style={{ resize: \"none\" }}\r\n        />\r\n        <div className=\"d-flex justify-content-between\">\r\n          <i\r\n            className=\"fa fa-image text-light fa-2x mt-2 pointer \"\r\n            onClick={onUpload}\r\n          ></i>\r\n          <input\r\n            accept=\"image/png, image/jpeg,image/jpeg/gif\"\r\n            type=\"file\"\r\n            className=\"file-input d-none\"\r\n            id=\"inputGroupFile01\"\r\n            aria-describedby=\"inputGroupFileAddon01\"\r\n            ref={ref}\r\n            onChange={onUrlChange}\r\n          />\r\n          <input\r\n            type=\"button\"\r\n            className=\"btn border-0  shadow-none text-light bg-dark mt-2 mb-2\"\r\n            value=\"发表\"\r\n            onClick={onNewArticle}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CreatBox;\r\n","import React from \"react\";\r\n\r\nconst CommentArea = ({\r\n  theme,\r\n  a,\r\n  talkArea,\r\n  onFocus,\r\n  onBlur,\r\n  onChange,\r\n  onComment,\r\n}) => {\r\n  if (talkArea[a._id]) {\r\n    const { value, commentHeight, commentTip } = talkArea[a._id];\r\n    return theme === \"daytime\" ? (\r\n      <div\r\n        className=\"d-flex justify-content-start mt-2 \"\r\n        onFocus={() => onFocus(a)}\r\n        onBlur={() => onBlur(a)}\r\n      >\r\n        <textarea\r\n          id={a.id}\r\n          value={value}\r\n          name=\"text\"\r\n          cols=\"40\"\r\n          rows={commentHeight}\r\n          className=\"form-control\"\r\n          aria-label=\"Text input with radio button\"\r\n          placeholder={commentTip || \"组织语言中...\"}\r\n          maxLength=\"100\"\r\n          onChange={onChange.bind(this, a)}\r\n          style={{ resize: \"none\", width: \"90%\" }}\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn border-0 shadow-none text-light bg-primary ml-4 \"\r\n          value=\"发送\"\r\n          onClick={() => onComment(a)}\r\n        />\r\n      </div>\r\n    ) : (\r\n      //夜间模式\r\n      <div\r\n        className=\"d-flex justify-content-start mt-2 \"\r\n        onFocus={() => onFocus(a)}\r\n        onBlur={() => onBlur(a)}\r\n      >\r\n        <textarea\r\n          id={a.id}\r\n          value={value}\r\n          name=\"text\"\r\n          cols=\"40\"\r\n          rows={commentHeight}\r\n          className=\"form-control bg-secondary text-light\"\r\n          aria-label=\"Text input with radio button\"\r\n          placeholder={commentTip || \"组织语言中...\"}\r\n          maxLength=\"100\"\r\n          onChange={onChange.bind(this, a)}\r\n          style={{ resize: \"none\", width: \"90%\" }}\r\n        />\r\n        <input\r\n          type=\"button\"\r\n          className=\"btn border-0 shadow-none text-light bg-secondary ml-4 \"\r\n          value=\"发送\"\r\n          onClick={() => onComment(a)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CommentArea;\r\n","import React from \"react\";\r\n\r\nconst Comment = ({ theme, a, user, dateRevise, onCommentDelete }) => {\r\n  const admin = user && user.isAdmin;\r\n  const img =\r\n    \"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcV9rQ8hBQluBPp5G9UgdbghQfKJTylgMZITdpGuk5ONWTu5e.5G17FCbb1cNcfP4mEuNEm7mySIFxj4eVKJ7x2Q!/r\";\r\n  a.comment.forEach((e) =>\r\n    e.author === null\r\n      ? (e.author = {\r\n          _id: \"5ffd16bc926b7b1a2c74170e\",\r\n          userName: \"未知用户\",\r\n          portrait: img,\r\n        })\r\n      : null\r\n  );\r\n\r\n  return theme === \"daytime\" ? (\r\n    <React.Fragment>\r\n      {a.comment.map((c) => (\r\n        <div\r\n          className=\"d-flex justify-content-start m-1 ml-4 border border-primary rounded-pill\"\r\n          key={c.commentDate}\r\n          style={{\r\n            width: \"80%\",\r\n            backgroundColor: \"rgb(245,245,245)\",\r\n          }}\r\n        >\r\n          <img\r\n            src={c.author.portrait}\r\n            alt=\"\"\r\n            className=\"m-2 mt-auto mb-auto pl-0 pr-0 rounded-circle\"\r\n            style={{ width: \"3em\", height: \"3em\" }}\r\n          />\r\n          <div style={{ width: \"70%\" }}>\r\n            <h6 className=\"card-title pt-2 mb-1\" style={{ fontSize: \"1em\" }}>\r\n              {c.author.userName}：\r\n              <div className=\"mt-1\">\r\n                <b>\r\n                  {c.author.userName === \"未知用户\" ? \"该用户已被屏蔽\" : c.word}\r\n                </b>\r\n              </div>\r\n            </h6>\r\n            <p className=\"mb-1\">\r\n              {dateRevise(\"YYYY-mm-dd HH:MM:SS\", new Date(c.commentDate))}\r\n            </p>\r\n          </div>\r\n          {user &&\r\n            (c.author._id === user._id ||\r\n              a.author._id === user._id ||\r\n              admin) && (\r\n              <div\r\n                className=\"mt-auto mb-auto pointer text-danger\"\r\n                onClick={() => onCommentDelete(a, c)}\r\n              >\r\n                x\r\n              </div>\r\n            )}\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  ) : (\r\n    //夜间模式\r\n    <React.Fragment>\r\n      {a.comment.map((c) => (\r\n        <div\r\n          className=\"d-flex justify-content-start m-1 ml-4 border border-primary rounded-pill bg-dark text-light\"\r\n          key={c.commentDate}\r\n          style={{\r\n            width: \"80%\",\r\n            backgroundColor: \"rgb(245,245,245)\",\r\n          }}\r\n        >\r\n          <img\r\n            src={c.author.portrait}\r\n            alt=\"\"\r\n            className=\"m-2 mt-auto mb-auto pl-0 pr-0 rounded-circle\"\r\n            style={{ width: \"3em\", height: \"3em\" }}\r\n          />\r\n          <div style={{ width: \"70%\" }}>\r\n            <h6 className=\"card-title pt-2 mb-1\" style={{ fontSize: \"1em\" }}>\r\n              {c.author.userName}：\r\n              <div className=\"mt-1\">\r\n                <b>\r\n                  {c.author.userName === \"未知用户\" ? \"该用户已被屏蔽\" : c.word}\r\n                </b>\r\n              </div>\r\n            </h6>\r\n            <p className=\"mb-1\">\r\n              {dateRevise(\"YYYY-mm-dd HH:MM:SS\", new Date(c.commentDate))}\r\n            </p>\r\n          </div>\r\n          {user &&\r\n            (c.author._id === user._id ||\r\n              a.author._id === user._id ||\r\n              admin) && (\r\n              <div\r\n                className=\"mt-auto mb-auto pointer text-light\"\r\n                onClick={() => onCommentDelete(a, c)}\r\n              >\r\n                x\r\n              </div>\r\n            )}\r\n        </div>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\n\r\nconst HeartSVG = ({ theme, like }) => {\r\n  const userList = like ? like.slice(0, 7) : null;\r\n\r\n  return like && like.length ? (\r\n    <div style={{ width: \"75%\" }}>\r\n      <div className=\"row ml-2\">\r\n        <i\r\n          className={\r\n            like\r\n              ? \"fa  fa-heart fa-lg text-danger mt-1\"\r\n              : \"fa fa-heart-o fa-lg \"\r\n          }\r\n        ></i>\r\n        <div className=\"row ml-3 text-danger\" style={{ width: \"80%\" }}>\r\n          {userList.map((u) => (\r\n            <a\r\n              className={theme === \"daytime\" ? null : \"text-light\"}\r\n              key={userList.indexOf(u)}\r\n              href=\"https://user.qzone.qq.com/1303140304\"\r\n              target=\"_black\"\r\n            >\r\n              {u.userName}\r\n              {userList.indexOf(u) === userList.length - 1 ? \"\" : \"，\"}\r\n            </a>\r\n          ))}\r\n          <p className=\"mb-0 ml-1\">\r\n            {like.length > 7 ? \"......\" : \" 觉得很赞\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"row ml-5 text-danger\">\r\n        {like.length > 7 && (\r\n          <p className=\" ml-5 mb-0\">等{like.length}人觉得很赞</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nconst LikeSVG = ({ a, device, user, onLike }) => {\r\n  return (\r\n    <i\r\n      className={\r\n        user && a.like && a.like.some((u) => u._id === user._id)\r\n          ? \"fa fa-thumbs-up  text-danger\"\r\n          : \"fa fa-thumbs-o-up  pointer\"\r\n      }\r\n      // onClick={onLike}\r\n      onClick={!a.like.some((u) => u._id === user._id) ? onLike : null}\r\n      //判断是否点过赞\r\n      style={{ fontSize: device === \"mobile\" ? \"1em\" : \"2em\" }}\r\n    ></i>\r\n  );\r\n};\r\n\r\nconst TalkSVG = ({ a, device, onTalk }) => {\r\n  return (\r\n    <i\r\n      className={\r\n        a.talk\r\n          ? \"fa fa-commenting-o  text-primary ml-1\"\r\n          : \"fa fa-commenting-o  pointer ml-1\"\r\n      }\r\n      onClick={() => onTalk(a)}\r\n      style={{ fontSize: device === \"mobile\" ? \"1em\" : \"2em\" }}\r\n    ></i>\r\n  );\r\n};\r\n\r\nconst ShareSVG = ({ a, device, onShare }) => {\r\n  return (\r\n    <i\r\n      className={\r\n        a.share ? \"fa fa-share text-primary ml-1\" : \"fa fa-share pointer ml-1\"\r\n      }\r\n      onClick={onShare}\r\n      style={{ fontSize: device === \"mobile\" ? \"1em\" : \"2em\" }}\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport { LikeSVG, TalkSVG, ShareSVG, HeartSVG };\r\n","import React from \"react\";\r\nimport { LikeSVG, TalkSVG, ShareSVG, HeartSVG } from \"../common/SVG\";\r\n\r\nconst SvgGroup = ({\r\n  theme,\r\n  device,\r\n  a,\r\n  user,\r\n  onLike,\r\n  onTalk,\r\n  onShareBoxOpen,\r\n}) => {\r\n  return (\r\n    <div\r\n      className=\"d-flex justify-content-between mt-3 row\"\r\n      style={{ width: \"100%\" }}\r\n    >\r\n      <HeartSVG like={a.like} theme={theme} />\r\n      {user && (\r\n        <div\r\n          className=\"d-flex justify-content-between ml-auto\"\r\n          style={{ width: \"20%\" }}\r\n        >\r\n          <LikeSVG\r\n            a={a}\r\n            user={user || {}}\r\n            device={device}\r\n            onLike={() => onLike(a)}\r\n          />\r\n          <TalkSVG a={a} onTalk={onTalk} device={device} />\r\n          <ShareSVG a={a} device={device} onShare={() => onShareBoxOpen(a)} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SvgGroup;\r\n","import React from \"react\";\r\nimport authServices from \"../../services/authServices\";\r\n\r\nconst User = (props) => {\r\n  const { theme, a, user, query, dateRevise, onDelete } = props;\r\n\r\n  const authorized = authServices.compareAuthorization(\r\n    a.author && a.author._id,\r\n    user._id\r\n  );\r\n  //用户是否为当前文章的作者\r\n  const admin = user && user.isAdmin;\r\n  //是否为管理员\r\n  const dateToMap = a.oldDate ? a.oldDate : a.date;\r\n  //判断是否分享\r\n  const nameQuery = query.option === \"userName\" && query.word;\r\n  const nameBefore = a.author.userName.slice(\r\n    0,\r\n    a.author.userName.indexOf(query.word)\r\n  );\r\n  const nameAfter = a.author.userName.slice(\r\n    a.author.userName.indexOf(query.word) + query.word.length,\r\n    a.author.userName.length\r\n  );\r\n  //搜索高亮\r\n\r\n  a.date = dateRevise(\"YYYY-mm-dd HH:MM:SS\", new Date(a.date));\r\n  return theme === \"daytime\" ? (\r\n    <div\r\n      className=\"d-flex justify-content-between\"\r\n      style={{ height: \"100%\", width: \"100%\" }}\r\n    >\r\n      <a\r\n        className=\"d-flex justify-content-start p-2\"\r\n        href=\"https://user.qzone.qq.com/1303140304\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <img\r\n          src={a.author && a.author.portrait}\r\n          alt=\"\"\r\n          className=\"pl-0 pr-0 rounded-circle  \"\r\n          style={{\r\n            width: \"4em\",\r\n            height: \"4em\",\r\n            objectFit: \"cover\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"col\" width={\"20%\"}>\r\n          <h6\r\n            className=\"card-title mt-1\"\r\n            style={{ fontSize: \"1em\", fontWeight: \"bold\" }}\r\n          >\r\n            {!nameQuery && a.author.userName}\r\n            {nameQuery && nameBefore}\r\n            {nameQuery && <span className=\"text-danger\">{query.word}</span>}\r\n            {nameQuery && nameAfter}\r\n          </h6>\r\n          <h6 className=\"mt-3\" style={{ fontSize: \"1em\" }}>\r\n            {dateToMap.slice(0, 10) + \" \" + dateToMap.slice(11, 19)}\r\n          </h6>\r\n        </div>\r\n      </a>\r\n      {!a.sharer && (authorized || admin) && (\r\n        <div\r\n          className=\"pointer\"\r\n          onClick={() => onDelete(a)}\r\n          style={{\r\n            color: \"red\",\r\n            height: \"30px\",\r\n            width: \"30px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          x\r\n        </div>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    //夜间模式\r\n    <div\r\n      className=\"d-flex justify-content-between\"\r\n      style={{ height: \"100%\", width: \"100%\" }}\r\n    >\r\n      <a\r\n        className=\"d-flex justify-content-start p-2\"\r\n        href=\"https://user.qzone.qq.com/1303140304\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <img\r\n          src={a.author && a.author.portrait}\r\n          alt=\"\"\r\n          className=\"pl-0 pr-0 rounded-circle  \"\r\n          style={{\r\n            width: \"4em\",\r\n            height: \"4em\",\r\n            objectFit: \"cover\",\r\n          }}\r\n        />\r\n\r\n        <div className=\"col text-light\" width={\"20%\"}>\r\n          <h6\r\n            className=\"card-title mt-1\"\r\n            style={{ fontSize: \"1em\", fontWeight: \"bold\" }}\r\n          >\r\n            {!nameQuery && a.author.userName}\r\n            {nameQuery && nameBefore}\r\n            {nameQuery && <span className=\"text-danger\">{query.word}</span>}\r\n            {nameQuery && nameAfter}\r\n          </h6>\r\n          <h6 className=\"mt-3\" style={{ fontSize: \"1em\" }}>\r\n            {dateToMap.slice(0, 10) + \" \" + dateToMap.slice(11, 19)}\r\n          </h6>\r\n        </div>\r\n      </a>\r\n      {!a.sharer && (authorized || admin) && (\r\n        <div\r\n          className=\"pointer\"\r\n          onClick={() => onDelete(a)}\r\n          style={{\r\n            color: \"white\",\r\n            height: \"30px\",\r\n            width: \"30px\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          x\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\n\r\nconst ArticleInfo = ({ theme, a, query }) => {\r\n  const titleQuery = query.option === \"title\" && query.word;\r\n  const titleBefore =\r\n    titleQuery && a.title.slice(0, a.title.indexOf(query.word));\r\n  const titleAfter =\r\n    query.option === \"title\" &&\r\n    query.word &&\r\n    a.title.slice(\r\n      a.title.indexOf(query.word) + query.word.length,\r\n      a.title.length\r\n    );\r\n  return theme === \"daytime\" ? (\r\n    <React.Fragment>\r\n      <h6 className=\"card-subtitle mt-2 mb-2 font-weight-bold\">\r\n        {!titleQuery && a.title}\r\n        {titleQuery && titleBefore}\r\n        {titleQuery && <span className=\"text-danger\">{query.word}</span>}\r\n        {titleQuery && titleAfter}\r\n      </h6>\r\n      {a.img && (\r\n        <img width=\"60%\" src={a.img} alt=\"\" className=\"card-img-botton\" />\r\n      )}\r\n    </React.Fragment>\r\n  ) : (\r\n    //夜间模式\r\n    <React.Fragment>\r\n      <h6 className=\"card-subtitle mt-2 mb-2 font-weight-bold text-light\">\r\n        {!titleQuery && a.title}\r\n        {titleQuery && titleBefore}\r\n        {titleQuery && <span className=\"text-danger\">{query.word}</span>}\r\n        {titleQuery && titleAfter}\r\n      </h6>\r\n      {a.img && (\r\n        <img width=\"60%\" src={a.img} alt=\"\" className=\"card-img-botton\" />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ArticleInfo;\r\n","import React from \"react\";\r\nimport authServices from \"../../services/authServices\";\r\n\r\nconst Sharer = ({ theme, a, user, onDelete }) => {\r\n  const authorized = authServices.compareAuthorization(\r\n    a.sharer && a.sharer._id,\r\n    user && user._id\r\n  );\r\n  //是否为分享者\r\n  const admin = user && user.isAdmin;\r\n  //是否为管理员\r\n  return theme === \"daytime\" ? (\r\n    <React.Fragment>\r\n      {a.sharer && (\r\n        <div\r\n          className=\"d-flex justify-content-start\"\r\n          style={{ height: \"100%\", width: \"100%\" }}\r\n        >\r\n          <a\r\n            className=\"d-flex justify-content-start p-2\"\r\n            href=\"https://user.qzone.qq.com/1303140304\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <img\r\n              src={a.sharer.portrait}\r\n              alt=\"\"\r\n              className=\"pl-0 pr-0 rounded-circle  \"\r\n              style={{\r\n                width: \"3em\",\r\n                height: \"3em\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n\r\n            <div className=\"col\" width={\"20%\"}>\r\n              <div className=\"row\">\r\n                <p\r\n                  className=\"card-title m-0 ml-3\"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                >\r\n                  {a.sharer.userName}\r\n                </p>\r\n                {a.content && (\r\n                  <p className=\"card-text font-weight-bolder ml-1\">\r\n                    {\" \"}\r\n                    : {a.content}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <h6 className=\"\" style={{ fontSize: \"1em\" }}>\r\n                {a.date.slice(0, 10) + \" \" + a.date.slice(11, 19)}\r\n              </h6>\r\n            </div>\r\n          </a>\r\n\r\n          {(authorized || admin) && (\r\n            <div\r\n              className=\"pointer ml-auto mr-4 mt-3\"\r\n              onClick={() => onDelete(a)}\r\n              style={{\r\n                color: \"red\",\r\n                height: \"30px\",\r\n                width: \"30px\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              x\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  ) : (\r\n    //夜间模式\r\n    <React.Fragment>\r\n      {a.sharer && (\r\n        <div\r\n          className=\"d-flex justify-content-start\"\r\n          style={{ height: \"100%\", width: \"100%\" }}\r\n        >\r\n          <a\r\n            className=\"d-flex justify-content-start p-2\"\r\n            href=\"https://user.qzone.qq.com/1303140304\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            <img\r\n              src={a.sharer.portrait}\r\n              alt=\"\"\r\n              className=\"pl-0 pr-0 rounded-circle \"\r\n              style={{\r\n                width: \"3em\",\r\n                height: \"3em\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n\r\n            <div className=\"col text-light\" width={\"20%\"}>\r\n              <div className=\"row \">\r\n                <p\r\n                  className=\"card-title m-0 ml-3 \"\r\n                  style={{ fontWeight: \"bold\" }}\r\n                >\r\n                  {a.sharer.userName}\r\n                </p>\r\n                {a.content && (\r\n                  <p className=\"card-text font-weight-bolder ml-1\">\r\n                    {\" \"}\r\n                    : {a.content}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <h6 className=\"\" style={{ fontSize: \"1em\" }}>\r\n                {a.date.slice(0, 10) + \" \" + a.date.slice(11, 19)}\r\n              </h6>\r\n            </div>\r\n          </a>\r\n          {(authorized || admin) && (\r\n            <div\r\n              className=\"pointer ml-auto mr-4 mt-3\"\r\n              onClick={() => onDelete(a)}\r\n              style={{\r\n                color: \"white\",\r\n                height: \"30px\",\r\n                width: \"30px\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              x\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Sharer;\r\n","import React, { Component } from \"react\";\r\nimport articleService from \"../../services/articleService\";\r\nimport ShareBox from \"../common/shareBox\";\r\nimport CreatBox from \"../common/creatBox\";\r\nimport CommentArea from \"./commentArea\";\r\nimport Comment from \"./comment\";\r\nimport SvgGroup from \"./svg-group\";\r\nimport User from \"./user\";\r\nimport Draggable from \"react-draggable\";\r\nimport ArticleInfo from \"./articleInfo\";\r\nimport Sharer from \"./sharer\";\r\n\r\nclass Container extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n    articles: [],\r\n    newArticle: { placeholder: \"诉说现在的想法\" },\r\n    talkArea: {},\r\n    share: { shareWord: \"\", shareTip: \"请输入\" },\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.imgRef = React.createRef();\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { data: articles } = await articleService.getArticles();\r\n    this.initializeLocalArticleProperties(articles);\r\n    //获取文章并初始化评论区和分享开关\r\n    this.setState({ articles });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setState = (state, callback) => {\r\n      return;\r\n    };\r\n  }\r\n  //当组件被注销后停止异步操作\r\n\r\n  handleLike = async (article) => {\r\n    const { user } = this.state;\r\n    await articleService.likeArticles(article._id, user);\r\n\r\n    const { data } = await articleService.getArticles();\r\n    this.initializeLocalArticleProperties(data);\r\n    this.setState({ articles: data });\r\n  };\r\n\r\n  handleChange = (a, e) => {\r\n    let { talkArea } = this.state;\r\n    talkArea[a._id].value = e.currentTarget.value;\r\n    this.setState({ talkArea });\r\n  };\r\n\r\n  handleFocus = (a) => {\r\n    let { talkArea, articles } = this.state;\r\n    articles[articles.indexOf(a)].talk = true;\r\n    talkArea[a._id].commentHeight = 3;\r\n    this.setState({ talkArea, articles });\r\n  };\r\n\r\n  handleBlur = (a) => {\r\n    let { talkArea, articles } = this.state;\r\n    articles[articles.indexOf(a)].talk = false;\r\n    talkArea[a._id].commentHeight = 1;\r\n    this.setState({ talkArea, articles });\r\n  };\r\n\r\n  handleTalk = (a) => {\r\n    this.handleFocus(a);\r\n  };\r\n\r\n  initializeLocalArticleProperties = (articles) => {\r\n    const { talkArea } = this.state;\r\n\r\n    for (let a of articles) {\r\n      a.shareBox = false;\r\n      talkArea[a._id] = {};\r\n      talkArea[a._id].commentTip = null;\r\n      talkArea[a._id].commentHeight = 1;\r\n    }\r\n    this.setState({ talkArea, articles });\r\n  };\r\n\r\n  handleComment = async (a) => {\r\n    let { user, talkArea } = this.state;\r\n    if (!talkArea[a._id].value) {\r\n      talkArea[a._id].commentTip = \"评论不能为空。\";\r\n      this.setState({ talkArea });\r\n      return;\r\n    }\r\n    if (!user) {\r\n      return (window.location = \"/login\");\r\n    }\r\n    await articleService.reviewArticles(a._id, user, talkArea[a._id].value);\r\n    const { data } = await articleService.getArticles();\r\n    this.initializeLocalArticleProperties(data);\r\n    //获取文章并初始化评论区和分享开关\r\n\r\n    talkArea[a._id].commentHeight = 1;\r\n    talkArea[a._id].value = \"\";\r\n    talkArea[a._id].commentTip = \"还想再说...\";\r\n    this.setState({ articles: data, talkArea });\r\n  };\r\n\r\n  handleShareWord = (e) => {\r\n    const { share } = this.state;\r\n    share.shareWord = e.currentTarget.value;\r\n    this.setState({ share });\r\n  };\r\n\r\n  handleShare = async (a) => {\r\n    const { user, share } = this.state;\r\n    const { data } = await articleService.shareArticles(\r\n      a,\r\n      user,\r\n      share.shareWord\r\n    );\r\n    this.initializeLocalArticleProperties(data);\r\n    share.shareWord = \"\";\r\n    this.setState({ articles: data, share });\r\n  };\r\n\r\n  handleShareBoxOpen = (a) => {\r\n    const { articles } = this.state;\r\n    articles.forEach((a) => (a.share = a.shareBox = false));\r\n    articles[articles.indexOf(a)].share = !articles[articles.indexOf(a)].share;\r\n    articles[articles.indexOf(a)].shareBox = !articles[articles.indexOf(a)]\r\n      .shareBox;\r\n    this.setState({ articles });\r\n  };\r\n\r\n  handleShareBoxClose = (a) => {\r\n    const { articles } = this.state;\r\n    articles[articles.indexOf(a)].shareBox = false;\r\n    articles[articles.indexOf(a)].share = false;\r\n    this.setState({ articles });\r\n  };\r\n\r\n  handleDelete = async (a) => {\r\n    const { data } = await articleService.deleteArticles(a._id);\r\n    this.initializeLocalArticleProperties(data);\r\n    this.setState({ articles: data });\r\n  };\r\n\r\n  handleCommentDelete = async (a, c) => {\r\n    const { data } = await articleService.deleteComment(a._id, c);\r\n    this.initializeLocalArticleProperties(data);\r\n    //获取文章并初始化评论区和分享开关\r\n    this.setState({ articles: data });\r\n  };\r\n\r\n  handleImgUpload = () => {\r\n    this.imgRef.current.click();\r\n  };\r\n\r\n  handleImgUrl = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.size > 1048576) {\r\n      return alert(\"上传图片不能超过1mb\");\r\n    }\r\n    if (file) {\r\n      const { newArticle } = this.state;\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        const imgcode = e.target.result;\r\n        newArticle.img = imgcode;\r\n      };\r\n      //将图片转换成base64码准备就绪\r\n      const url = window.webkitURL.createObjectURL(\r\n        this.imgRef.current.files[0]\r\n      );\r\n      newArticle.imgView = url;\r\n      //创建一个快速预览\r\n      this.setState({ newArticle });\r\n    }\r\n  };\r\n\r\n  handleNewArticleTitle = (e) => {\r\n    let { newArticle } = this.state;\r\n    newArticle[\"title\"] = e.currentTarget.value;\r\n    this.setState({ newArticle });\r\n  };\r\n\r\n  handleNewArticle = async () => {\r\n    let { newArticle } = this.state;\r\n    if (!newArticle.title && !newArticle.imgView) {\r\n      newArticle.placeholder = \"请输入文字或者添加一张图片\";\r\n      this.setState({ newArticle });\r\n      //没有文字和图片就无法发表\r\n    } else {\r\n      const { user, talkArea } = this.state;\r\n      if (!user) {\r\n        return (window.location = \"/login\");\r\n      }\r\n      newArticle[\"author\"] = user._id;\r\n      const { data } = await articleService.newArticle(newArticle);\r\n      //添加新文章\r\n      newArticle.title = \"\";\r\n      newArticle.img = null;\r\n      newArticle.imgView = \"\";\r\n      //重置发表窗口文字和图片\r\n      this.initializeLocalArticleProperties(data);\r\n      //初始化评论区和分享开关\r\n      newArticle.placeholder = \"诉说现在的想法\";\r\n      this.setState({ newArticle, articles: data, talkArea });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      user,\r\n      allUsersId,\r\n      articles,\r\n      newArticle,\r\n      talkArea,\r\n      share,\r\n    } = this.state;\r\n    const { theme, device, dateRevise, query } = this.props;\r\n    const articlesQuery =\r\n      query.option === \"userName\"\r\n        ? query.word\r\n          ? articles.filter((a) => a.author.userName.includes(query.word))\r\n          : articles\r\n        : query.word\r\n        ? articles.filter((a) => a.title.includes(query.word))\r\n        : articles;\r\n\r\n    return theme === \"daytime\" ? (\r\n      <React.Fragment>\r\n        <div className=\"col\">\r\n          <CreatBox\r\n            theme={theme}\r\n            ref={this.imgRef} //为了隐藏难看的input而设的ref\r\n            newArticle={newArticle} //获取待上传文章\r\n            placeholder={this.state.newArticlePlaceholder} //提示语\r\n            onUpload={this.handleImgUpload} //点击隐藏文件按钮\r\n            onUrlChange={this.handleImgUrl} //获取文章图片\r\n            onTitle={this.handleNewArticleTitle} //获取新标题\r\n            onNewArticle={this.handleNewArticle} //发表新文章\r\n          ></CreatBox>\r\n          {articlesQuery.map((a) => (\r\n            <div key={a._id} className=\"p-1 mb-3 bg-white rounded\">\r\n              <Sharer\r\n                theme={theme}\r\n                a={a}\r\n                user={user}\r\n                onDelete={() => this.handleDelete(a)}\r\n              />\r\n              <div className=\"card  border-secondary bg-light\">\r\n                <div className=\"card-body\">\r\n                  <User\r\n                    theme={theme}\r\n                    a={a}\r\n                    user={user || {}}\r\n                    query={query}\r\n                    dateRevise={dateRevise}\r\n                    onDelete={() => this.handleDelete(a)}\r\n                  />\r\n                  <ArticleInfo\r\n                    theme={theme}\r\n                    a={a}\r\n                    query={query}\r\n                    onHighLight={this.handleHighLihghtString}\r\n                  />\r\n                  <SvgGroup\r\n                    theme={theme}\r\n                    device={device}\r\n                    a={a}\r\n                    user={user}\r\n                    onLike={this.handleLike}\r\n                    onTalk={this.handleTalk}\r\n                    onShareBoxOpen={this.handleShareBoxOpen}\r\n                  ></SvgGroup>\r\n                  <Comment\r\n                    theme={theme}\r\n                    a={a}\r\n                    user={user}\r\n                    allUsersId={allUsersId}\r\n                    dateRevise={dateRevise}\r\n                    onCommentDelete={this.handleCommentDelete}\r\n                  ></Comment>\r\n                  <CommentArea\r\n                    theme={theme}\r\n                    a={a}\r\n                    talkArea={talkArea}\r\n                    onFocus={this.handleFocus}\r\n                    onBlur={this.handleBlur}\r\n                    onChange={this.handleChange}\r\n                    onComment={this.handleComment}\r\n                  ></CommentArea>\r\n                </div>\r\n                <Draggable\r\n                  axis=\"both\"\r\n                  handle=\".handle\"\r\n                  defaultPosition={{ x: 0, y: 0 }}\r\n                  bounds={{\r\n                    left: -820,\r\n                    right: 625,\r\n                    top: -470,\r\n                  }}\r\n                  position={null}\r\n                  grid={[5, 5]}\r\n                  scale={1}\r\n                  onStart={this.handleStart}\r\n                  onDrag={this.handleDrag}\r\n                  onStop={this.handleStop}\r\n                >\r\n                  <div style={{ zIndex: \"999\" }}>\r\n                    <ShareBox\r\n                      theme={theme}\r\n                      user={user}\r\n                      a={a}\r\n                      share={share}\r\n                      onClose={() => this.handleShareBoxClose(a)}\r\n                      onChange={this.handleShareWord}\r\n                      onShare={() => this.handleShare(a)}\r\n                    />\r\n                  </div>\r\n                </Draggable>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      //夜间模式\r\n      <React.Fragment>\r\n        <div className=\"col\">\r\n          <CreatBox\r\n            theme={theme}\r\n            ref={this.imgRef} //为了隐藏难看的input而设的ref\r\n            newArticle={newArticle} //获取待上传文章\r\n            placeholder={this.state.newArticlePlaceholder} //提示语\r\n            onUpload={this.handleImgUpload} //点击隐藏文件按钮\r\n            onUrlChange={this.handleImgUrl} //获取文章图片\r\n            onTitle={this.handleNewArticleTitle} //获取新标题\r\n            onNewArticle={this.handleNewArticle} //发表新文章\r\n          ></CreatBox>\r\n          {articlesQuery.map((a) => (\r\n            <div key={a._id} className=\"p-1 mb-3 bg-dark text-light rounded\">\r\n              <Sharer\r\n                theme={theme}\r\n                a={a}\r\n                user={user}\r\n                onDelete={() => this.handleDelete(a)}\r\n              />\r\n              <div className=\"card border-secondary bg-dark text-light\">\r\n                <div className=\"card-body\">\r\n                  <User\r\n                    theme={theme}\r\n                    a={a}\r\n                    user={user || {}}\r\n                    query={query}\r\n                    dateRevise={dateRevise}\r\n                    onDelete={() => this.handleDelete(a)}\r\n                  />\r\n                  <ArticleInfo\r\n                    theme={theme}\r\n                    a={a}\r\n                    query={query}\r\n                    onHighLight={this.handleHighLihghtString}\r\n                  />\r\n                  <SvgGroup\r\n                    theme={theme}\r\n                    device={device}\r\n                    a={a}\r\n                    user={user}\r\n                    onLike={this.handleLike}\r\n                    onTalk={this.handleTalk}\r\n                    onShareBoxOpen={this.handleShareBoxOpen}\r\n                  ></SvgGroup>\r\n                  <Comment\r\n                    theme={theme}\r\n                    a={a}\r\n                    user={user}\r\n                    allUsersId={allUsersId}\r\n                    dateRevise={dateRevise}\r\n                    onCommentDelete={this.handleCommentDelete}\r\n                  ></Comment>\r\n                  <CommentArea\r\n                    theme={theme}\r\n                    a={a}\r\n                    talkArea={talkArea}\r\n                    onFocus={this.handleFocus}\r\n                    onBlur={this.handleBlur}\r\n                    onChange={this.handleChange}\r\n                    onComment={this.handleComment}\r\n                  ></CommentArea>\r\n                </div>\r\n                <Draggable\r\n                  axis=\"both\"\r\n                  handle=\".handle\"\r\n                  defaultPosition={{ x: 0, y: 0 }}\r\n                  bounds={{\r\n                    left: -820,\r\n                    right: 625,\r\n                    top: -470,\r\n                  }}\r\n                  position={null}\r\n                  grid={[5, 5]}\r\n                  scale={1}\r\n                  onStart={this.handleStart}\r\n                  onDrag={this.handleDrag}\r\n                  onStop={this.handleStop}\r\n                >\r\n                  <div style={{ zIndex: \"999\" }}>\r\n                    <ShareBox\r\n                      theme={theme}\r\n                      user={user}\r\n                      a={a}\r\n                      share={share}\r\n                      onClose={() => this.handleShareBoxClose(a)}\r\n                      onChange={this.handleShareWord}\r\n                      onShare={() => this.handleShare(a)}\r\n                    />\r\n                  </div>\r\n                </Draggable>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCurrentUserOffLine } from \"./../../services/authServices\";\r\n\r\nclass ShortcutBar extends Component {\r\n  state = {\r\n    user: {},\r\n  };\r\n  componentDidMount() {\r\n    const user = getCurrentUserOffLine();\r\n    this.setState({ user });\r\n  }\r\n  render() {\r\n    return (\r\n      this.state.user && (\r\n        <div>\r\n          <div className=\"col \" style={{ height: \"214px\" }}></div>\r\n          {/* 撑高度用的 */}\r\n          <div className=\"sticky-top\" style={{ top: \"3em\" }}>\r\n            <Link to=\"/home\">\r\n              <i\r\n                className=\"fa fa-home fa-fw pointer homeIcon mb-2 d-block\"\r\n                style={{ fontSize: \"2em\" }}\r\n              ></i>\r\n            </Link>\r\n            <Link to=\"/personal-information\">\r\n              <i\r\n                className=\"fa fa-address-book fa-fw pointer personInfoIcon mb-2 d-block\"\r\n                style={{ fontSize: \"2em\" }}\r\n              ></i>\r\n            </Link>\r\n            <Link to=\"/setting\">\r\n              <i\r\n                className=\"fa fa-cog fa-fw pointer settingIcon mb-2 d-block\"\r\n                style={{ fontSize: \"2em\" }}\r\n              ></i>\r\n            </Link>\r\n            <Link to=\"/logout\">\r\n              <i\r\n                className=\"fa fa-sign-out fa-fw pointer logoutIcon mb-2 d-block\"\r\n                style={{ fontSize: \"2em\" }}\r\n              ></i>\r\n            </Link>\r\n            <div className=\"position-sticky\">\r\n              <a href=\"#top\">\r\n                <i\r\n                  className=\"fa fa-arrow-up fa-fw pointer topIcon mt-5\"\r\n                  style={{ fontSize: \"2em\" }}\r\n                ></i>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShortcutBar;\r\n","import React, { Component } from \"react\";\r\nimport ListGroup from \"./container/listGroup\";\r\nimport Container from \"./container/container\";\r\nimport ShortcutBar from \"./common/shortcutBar\";\r\n\r\nclass Content extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    const { theme, device, user, dateRevise, query } = this.props;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {device === \"computer\" && <ListGroup theme={theme} />}\r\n          <Container\r\n            theme={theme}\r\n            device={device}\r\n            user={user}\r\n            dateRevise={dateRevise}\r\n            query={query}\r\n          />\r\n          {device === \"computer\" && <ShortcutBar theme={theme} />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Content;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCurrentUserOffLine } from \"./../../services/authServices\";\r\n\r\nclass MobileShortcut extends Component {\r\n  state = {\r\n    user: {},\r\n    toggle: \"d-none position-fixed\",\r\n  };\r\n  componentDidMount() {\r\n    const user = getCurrentUserOffLine();\r\n    this.setState({ user });\r\n  }\r\n\r\n  handleTool = () => {\r\n    let { toggle } = this.state;\r\n    toggle === \"d-none position-fixed\"\r\n      ? (toggle = \"position-fixed\")\r\n      : (toggle = \"d-none position-fixed\");\r\n    this.setState({ toggle });\r\n  };\r\n\r\n  render() {\r\n    const { toggle } = this.state;\r\n    const { theme } = this.props;\r\n    return theme === \"daytime\"\r\n      ? this.state.user && (\r\n          <div className=\"ml-auto mr-4\">\r\n            <i\r\n              className={\r\n                toggle === \"d-none position-fixed\"\r\n                  ? \"fa fa-eject fa-rotate-180 rounded-circle fa-2x\"\r\n                  : \"fa fa-eject rounded-circle fa-2x \"\r\n              }\r\n              onClick={this.handleTool}\r\n            ></i>\r\n            <div className={toggle} style={{ top: \"6em\", right: \"1px\" }}>\r\n              <div className=\"rounded-pill\">\r\n                <Link to=\"/home\">\r\n                  <i\r\n                    className=\"fa fa-home fa-fw pointer homeIcon mb-2 d-block\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/personal-information\">\r\n                  <i\r\n                    className=\"fa fa-address-book fa-fw pointer personInfoIcon mb-2 d-block\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/setting\">\r\n                  <i\r\n                    className=\"fa fa-cog fa-fw pointer settingIcon mb-2 d-block\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/logout\">\r\n                  <i\r\n                    className=\"fa fa-sign-out fa-fw pointer logoutIcon mb-2 d-block\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n              </div>\r\n              <div className=\"position-sticky\">\r\n                <a href=\"#top\">\r\n                  <i\r\n                    className=\"fa fa-arrow-up fa-fw pointer topIcon mt-5\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      : //夜间模式\r\n        this.state.user && (\r\n          <div className=\"ml-auto mr-4\">\r\n            <i\r\n              className={\r\n                toggle === \"d-none position-fixed\"\r\n                  ? \"fa fa-eject fa-rotate-180 rounded-circle fa-2x\"\r\n                  : \"fa fa-eject rounded-circle fa-2x \"\r\n              }\r\n              onClick={this.handleTool}\r\n            ></i>\r\n            <div className={toggle} style={{ top: \"6em\", right: \"1px\" }}>\r\n              <div className=\"rounded-pill \">\r\n                <Link to=\"/home\">\r\n                  <i\r\n                    className=\"fa fa-home fa-fw pointer homeIcon mb-2 d-block text-light\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/personal-information\">\r\n                  <i\r\n                    className=\"fa fa-address-book fa-fw pointer personInfoIcon mb-2 d-block text-light\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/setting\">\r\n                  <i\r\n                    className=\"fa fa-cog fa-fw pointer settingIcon mb-2 d-block text-light\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n                <Link to=\"/logout\">\r\n                  <i\r\n                    className=\"fa fa-sign-out fa-fw pointer logoutIcon mb-2 d-block text-light\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </Link>\r\n              </div>\r\n              <div className=\"position-sticky\">\r\n                <a href=\"#top\">\r\n                  <i\r\n                    className=\"fa fa-arrow-up fa-fw pointer topIcon mt-5 text-light\"\r\n                    style={{ fontSize: \"2em\" }}\r\n                  ></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n  }\r\n}\r\n\r\nexport default MobileShortcut;\r\n","import React from \"react\";\r\nimport MobileShortcut from \"./common/mobileShortcut\";\r\n\r\nconst Toggle = (props) => {\r\n  const { theme, device, onSwitch } = props;\r\n  const bgcolor = device === \"mobile\" ? \"rgb(154, 190, 178)\" : null;\r\n  return (\r\n    <div\r\n      className=\"sticky-top ml-2 row pt-2\"\r\n      style={{ backgroundColor: bgcolor }}\r\n    >\r\n      <i\r\n        className={\r\n          theme === \"daytime\"\r\n            ? \"fa fa-toggle-off fa-2x pointer\"\r\n            : \"fa fa-toggle-on fa-2x pointer\"\r\n        }\r\n        onClick={() => onSwitch(theme)}\r\n      ></i>\r\n      {device === \"mobile\" && <MobileShortcut theme={theme} />}\r\n    </div>\r\n  );\r\n};\r\nexport default Toggle;\r\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport userService from \"../services/userService\";\r\nimport auth from \"../services/authServices\";\r\nimport Joi from \"joi\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    data: { sex: false },\r\n    errors: {},\r\n  };\r\n\r\n  schemaObj = {\r\n    userName: Joi.string().min(3).max(10).required().label(\"用户名\"),\r\n    sex: Joi.boolean().required(),\r\n    email: Joi.string()\r\n      .required()\r\n      .min(5)\r\n      .max(30)\r\n      .label(\"邮箱\")\r\n      .email({ minDomainSegments: 2, tlds: { allow: [\"com\", \"net\"] } }),\r\n    password: Joi.string().min(6).max(15).required().label(\"密码\"),\r\n  };\r\n  schema = Joi.object(this.schemaObj);\r\n\r\n  translate = (errors) => {\r\n    //手动汉化...\r\n    //用户名\r\n    errors &&\r\n      errors.userName === `\"用户名\" is not allowed to be empty` &&\r\n      (errors.userName = \"用户名不能为空\");\r\n    errors &&\r\n      errors.userName ===\r\n        `\"用户名\" length must be at least 3 characters long` &&\r\n      (errors.userName = \"用户名至少大于3字符\");\r\n    errors &&\r\n      errors.userName ===\r\n        `\"用户名\" length must be less than or equal to 10 characters long` &&\r\n      (errors.userName = \"用户名必须小于或等于10字符\");\r\n    //邮箱\r\n    errors.email === `\"邮箱\" is not allowed to be empty` &&\r\n      (errors.email = \"邮箱不能为空\");\r\n    errors.email === `\"邮箱\" length must be at least 5 characters long` &&\r\n      (errors.email = \"邮箱至少大于5个字符\");\r\n    errors.email === `\"邮箱\" must be a valid email` &&\r\n      (errors.email = \"请输入正确的邮箱\");\r\n    errors.email ===\r\n      `\"邮箱\" length must be less than or equal to 30 characters long` &&\r\n      (errors.email = \"邮箱必须小于或等于30个字符\");\r\n    //密码\r\n    errors.password === `\"密码\" is not allowed to be empty` &&\r\n      (errors.password = \"密码不能为空\");\r\n    errors.password === `\"密码\" length must be at least 6 characters long` &&\r\n      (errors.password = \"密码至少大于6个字符\");\r\n    errors.password ===\r\n      `\"密码\" length must be less than or equal to 15 characters long` &&\r\n      (errors.password = \"密码必须小于等于15个字符\");\r\n    return errors;\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    let { data, errors } = this.state;\r\n    data[e.currentTarget.id] = e.currentTarget.value;\r\n    errors[e.currentTarget.id] = this.validateProperty(\r\n      e.currentTarget.id,\r\n      e.currentTarget.value\r\n    );\r\n\r\n    this.translate(errors);\r\n    //手动汉化...\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleSex = (sex) => {\r\n    const { data } = this.state;\r\n    sex === \"male\" ? (data.sex = false) : (data.sex = true);\r\n    this.setState({ data });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let { data } = this.state;\r\n    const errors = this.validata();\r\n    this.doSubmit();\r\n    this.setState({ data, errors: errors || {} });\r\n  };\r\n\r\n  doSubmit = async () => {\r\n    try {\r\n      const response = await userService.register(this.state.data);\r\n      auth.loginWithJwt(response.headers[\"x-auth-token\"]);\r\n      window.location = \"/\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        const errors = { ...this.state.errors };\r\n        errors.email = ex.response.data;\r\n        this.setState({ errors: errors });\r\n      }\r\n    }\r\n  };\r\n\r\n  validata = () => {\r\n    const { error } = this.schema.validate(this.state.data, {\r\n      abortEarly: false,\r\n    });\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n\r\n  validateProperty = (name, value) => {\r\n    const obj = { [name]: value };\r\n    const schema = Joi.object({ [name]: this.schemaObj[name] });\r\n    const { error } = schema.validate(obj);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  render() {\r\n    if (auth.getCurrentUserOffLine()) return <Redirect to=\"/\" />;\r\n\r\n    const { errors } = this.state;\r\n    const { theme, device } = this.props;\r\n\r\n    return theme === \"daytime\" ? (\r\n      <React.Fragment>\r\n        <div\r\n          className={\r\n            device === \"mobile\"\r\n              ? \"container bg-white  mb-5 p-0 rounded\"\r\n              : \"container bg-white w-50 mb-5 p-0 rounded\"\r\n          }\r\n        >\r\n          <h5 className=\"text-center pt-3\">注册</h5>\r\n          <form className=\"p-3\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"userName\">用户名</label>\r\n              <input\r\n                type=\"string\"\r\n                className=\"form-control\"\r\n                id=\"userName\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.userName && (\r\n                <div className=\"alert alert-danger\">{errors.userName}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                用户名字符大于3而小于10。\r\n              </small>\r\n              <div className=\"d-flex justify-content-start mt-2\">\r\n                <div className=\"form-check\">\r\n                  <img\r\n                    src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcRhYzOh7blj8b4vyz73NEfEvmuDUogSvTSLg*hXX4KIRfH2L9eQZZt47ftNzFljRVkWcZAONJa7YDfKgWrxwfVk!/r\"\r\n                    alt=\"\"\r\n                    className=\"pl-0 pr-0 rounded-circle\"\r\n                    style={{\r\n                      width: \"2em\",\r\n                      height: \"2em\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                    htmlFor=\"boy\"\r\n                  />\r\n                  <input\r\n                    className=\"m-0 mt-2 form-check-input\"\r\n                    type=\"radio\"\r\n                    id=\"boy\"\r\n                    name=\"sex\"\r\n                    value=\"male\"\r\n                    defaultChecked\r\n                    onClick={() => this.handleSex(\"male\")}\r\n                  />\r\n                  <label className=\"form-check-label pl-3 pr-3\" htmlFor=\"boy\">\r\n                    我是男生\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"form-check\">\r\n                  <img\r\n                    src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcSUoyRTjJXjplCxOd6PubtCMnoA7X5TRImnr3nUzAOTZLZ8zKV5WZ51t5lhpeKEHhSWnSB5cbAh7HbqFSjr5Iew!/r\"\r\n                    alt=\"\"\r\n                    className=\"pl-0 pr-0 rounded-circle \"\r\n                    style={{\r\n                      width: \"2em\",\r\n                      height: \"2em\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                  <input\r\n                    className=\" m-0 mt-2 form-check-input\"\r\n                    type=\"radio\"\r\n                    id=\"girl\"\r\n                    name=\"sex\"\r\n                    value=\"female\"\r\n                    onClick={() => this.handleSex(\"female\")}\r\n                  />\r\n                  <label className=\"form-check-label pl-3\" htmlFor=\"girl\">\r\n                    我是女生\r\n                  </label>\r\n                </div>\r\n                <small className=\"form-text ml-5 text-muted\">\r\n                  暂不支持其他性别\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">邮箱地址</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.email && (\r\n                <div className=\"alert alert-danger\">{errors.email}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                这只是一个demo，我并不会验证你的邮箱，但至少让它看起来像个邮箱。\r\n              </small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">密码</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {errors.password && (\r\n                <div className=\"alert alert-danger\">{errors.password}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                密码大于6而小于15。\r\n              </small>\r\n            </div>\r\n\r\n            <div className=\"form-group form-check\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                id=\"checkBox\"\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"checkBox\">\r\n                只是好看\r\n              </label>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"text-white\">彩蛋</div>\r\n              <Link to=\"/login\" className=\"\">\r\n                已有账号？点击登陆\r\n              </Link>\r\n              <button\r\n                disabled={this.validata()}\r\n                type=\"button\"\r\n                onClick={this.handleSubmit}\r\n                className=\"btn btn-primary\"\r\n              >\r\n                提交\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      //夜间模式\r\n      <React.Fragment>\r\n        <div\r\n          className={\r\n            device === \"mobile\"\r\n              ? \"container bg-dark text-light mb-5 p-0 rounded\"\r\n              : \"container bg-dark text-light w-50 mb-5 p-0 rounded\"\r\n          }\r\n        >\r\n          <h5 className=\"text-center pt-3\">注册</h5>\r\n          <form className=\"p-3\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"userName\">用户名</label>\r\n              <input\r\n                type=\"string\"\r\n                className=\"form-control\"\r\n                id=\"userName\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.userName && (\r\n                <div className=\"alert alert-danger\">{errors.userName}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                用户名字符大于3而小于10。\r\n              </small>\r\n              <div className=\"d-flex justify-content-start mt-2\">\r\n                <div className=\"form-check\">\r\n                  <img\r\n                    src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcRhYzOh7blj8b4vyz73NEfEvmuDUogSvTSLg*hXX4KIRfH2L9eQZZt47ftNzFljRVkWcZAONJa7YDfKgWrxwfVk!/r\"\r\n                    alt=\"\"\r\n                    className=\"pl-0 pr-0 rounded-circle\"\r\n                    style={{\r\n                      width: \"2em\",\r\n                      height: \"2em\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                    htmlFor=\"boy\"\r\n                  />\r\n                  <input\r\n                    className=\"m-0 mt-2 form-check-input\"\r\n                    type=\"radio\"\r\n                    id=\"boy\"\r\n                    name=\"sex\"\r\n                    value=\"male\"\r\n                    defaultChecked\r\n                    onClick={() => this.handleSex(\"male\")}\r\n                  />\r\n                  <label className=\"form-check-label pl-3 pr-3\" htmlFor=\"boy\">\r\n                    我是男生\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"form-check\">\r\n                  <img\r\n                    src=\"http://r.photo.store.qq.com/psc?/V51bnX3g1QbK7d02RrSs1Qs2Er0PnVRY/45NBuzDIW489QBoVep5mcSUoyRTjJXjplCxOd6PubtCMnoA7X5TRImnr3nUzAOTZLZ8zKV5WZ51t5lhpeKEHhSWnSB5cbAh7HbqFSjr5Iew!/r\"\r\n                    alt=\"\"\r\n                    className=\"pl-0 pr-0 rounded-circle \"\r\n                    style={{\r\n                      width: \"2em\",\r\n                      height: \"2em\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                  <input\r\n                    className=\" m-0 mt-2 form-check-input\"\r\n                    type=\"radio\"\r\n                    id=\"girl\"\r\n                    name=\"sex\"\r\n                    value=\"female\"\r\n                    onClick={() => this.handleSex(\"female\")}\r\n                  />\r\n                  <label className=\"form-check-label pl-3\" htmlFor=\"girl\">\r\n                    我是女生\r\n                  </label>\r\n                </div>\r\n                <small className=\"form-text ml-5 text-muted\">\r\n                  暂不支持其他性别\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">邮箱地址</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.email && (\r\n                <div className=\"alert alert-danger\">{errors.email}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                这只是一个demo，我并不会验证你的邮箱，但至少让它看起来像个邮箱。\r\n              </small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">密码</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {errors.password && (\r\n                <div className=\"alert alert-danger\">{errors.password}</div>\r\n              )}\r\n              <small className=\"form-text text-muted\">\r\n                密码大于6而小于15。\r\n              </small>\r\n            </div>\r\n\r\n            <div className=\"form-group form-check\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                id=\"checkBox\"\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"checkBox\">\r\n                只是好看\r\n              </label>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"text-white\">彩蛋</div>\r\n              <Link to=\"/login\" className=\"text-light\">\r\n                已有账号？点击登陆\r\n              </Link>\r\n              <button\r\n                disabled={this.validata()}\r\n                type=\"button\"\r\n                onClick={this.handleSubmit}\r\n                className=\"btn btn-secondary\"\r\n              >\r\n                提交\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Joi from \"joi\";\r\nimport auth from \"./../services/authServices\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    data: { email: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schemaObj = {\r\n    email: Joi.string()\r\n      .required()\r\n      .min(5)\r\n      .max(30)\r\n      .label(\"邮箱\")\r\n      .email({ minDomainSegments: 2, tlds: { allow: [\"com\", \"net\"] } }),\r\n    password: Joi.string().min(6).max(15).required().label(\"密码\"),\r\n  };\r\n  schema = Joi.object(this.schemaObj);\r\n\r\n  translate = (errors) => {\r\n    //手动汉化...\r\n    //邮箱\r\n    errors.email === `\"邮箱\" is not allowed to be empty` &&\r\n      (errors.email = \"邮箱不能为空\");\r\n    errors.email === `\"邮箱\" length must be at least 5 characters long` &&\r\n      (errors.email = \"邮箱至少大于5个字符\");\r\n    errors.email === `\"邮箱\" must be a valid email` &&\r\n      (errors.email = \"请输入正确的邮箱\");\r\n    errors.email ===\r\n      `\"邮箱\" length must be less than or equal to 30 characters long` &&\r\n      (errors.email = \"邮箱必须小于或等于30个字符\");\r\n    //密码\r\n    errors.password === `\"密码\" is not allowed to be empty` &&\r\n      (errors.password = \"密码不能为空\");\r\n    errors.password === `\"密码\" length must be at least 6 characters long` &&\r\n      (errors.password = \"密码至少大于6个字符\");\r\n    errors.password ===\r\n      `\"密码\" length must be less than or equal to 15 characters long` &&\r\n      (errors.password = \"密码必须小于等于15个字符\");\r\n    return errors;\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    let { data, errors } = this.state;\r\n    data[e.currentTarget.id] = e.currentTarget.value;\r\n    errors[e.currentTarget.id] = this.validateProperty(\r\n      e.currentTarget.id,\r\n      e.currentTarget.value\r\n    );\r\n    this.translate(errors);\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { data } = this.state;\r\n    try {\r\n      await auth.login(data.email, data.password);\r\n      window.location = \"/\";\r\n      //登陆必须要重载读取本地用户\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        const errors = { ...this.state.errors };\r\n        errors.warning = ex.response.data;\r\n        this.setState({ errors: errors });\r\n      }\r\n    }\r\n  };\r\n\r\n  validata = () => {\r\n    const { error } = this.schema.validate(this.state.data, {\r\n      abortEarly: false,\r\n    });\r\n    if (!error) return null;\r\n\r\n    const errors = {};\r\n    for (let item of error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  };\r\n\r\n  validateProperty = (name, value) => {\r\n    const obj = { [name]: value };\r\n    const schema = Joi.object({ [name]: this.schemaObj[name] });\r\n    const { error } = schema.validate(obj);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  render() {\r\n    if (auth.getCurrentUserOffLine()) return <Redirect to=\"/\" />;\r\n\r\n    const { errors } = this.state;\r\n    const { theme, device } = this.props;\r\n    return theme === \"daytime\" ? (\r\n      <React.Fragment>\r\n        <div\r\n          className={\r\n            device === \"mobile\"\r\n              ? \"container bg-white  mb-5 p-0 rounded\"\r\n              : \"container bg-white w-50 mb-5 p-0 rounded\"\r\n          }\r\n        >\r\n          <h5 className=\"text-center pt-3\">登陆</h5>\r\n\r\n          <form onSubmit={this.handleSubmit} className=\"p-3\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">邮箱</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.email && (\r\n                <div className=\"alert alert-danger\">{errors.email}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">密码</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {errors.password && (\r\n                <div className=\"alert alert-danger\">{errors.password}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group form-check\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                id=\"checkBox\"\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"checkBox\">\r\n                我只是好看\r\n              </label>\r\n              {errors.warning && (\r\n                <div className=\"alert alert-danger w-50 m-auto text-center  \">\r\n                  {errors.warning}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"text-white\">彩蛋</div>\r\n              <Link to=\"/register\" className=\"\">\r\n                没有账号？点击注册!\r\n              </Link>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.handleSubmit}\r\n                disabled={this.validata()}\r\n              >\r\n                提交\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      //夜间模式\r\n      <React.Fragment>\r\n        <div\r\n          className={\r\n            device === \"mobile\"\r\n              ? \"container bg-dark text-light mb-5 p-0 rounded\"\r\n              : \"container bg-dark text-light w-50 mb-5 p-0 rounded\"\r\n          }\r\n        >\r\n          <h5 className=\"text-center pt-3\">登陆</h5>\r\n\r\n          <form onSubmit={this.handleSubmit} className=\"p-3\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">邮箱</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                onChange={this.handleChange}\r\n                autoComplete=\"off\"\r\n              />\r\n              {errors.email && (\r\n                <div className=\"alert alert-danger\">{errors.email}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">密码</label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={this.handleChange}\r\n              />\r\n              {errors.password && (\r\n                <div className=\"alert alert-danger\">{errors.password}</div>\r\n              )}\r\n            </div>\r\n            <div className=\"form-group form-check\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n                id=\"checkBox\"\r\n              />\r\n              <label className=\"form-check-label\" htmlFor=\"checkBox\">\r\n                我只是好看\r\n              </label>\r\n              {errors.warning && (\r\n                <div className=\"alert alert-danger w-50 m-auto text-center  \">\r\n                  {errors.warning}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <div className=\"text-white\">彩蛋</div>\r\n              <Link to=\"/register\" className=\"text-light\">\r\n                没有账号？点击注册!\r\n              </Link>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary \"\r\n                onClick={this.handleSubmit}\r\n                disabled={this.validata()}\r\n              >\r\n                提交\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import { Component } from \"react\";\r\nimport auth from \"../services/authServices\";\r\n\r\nclass Logout extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    auth.logout();\r\n    window.location = \"/\";\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Logout;\r\n","import React from \"react\";\r\nimport auth from \"../../services/authServices\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!auth.getCurrentUserOffLine()) return <Redirect to=\"login\" />;\r\n        return Component ? <Component {...props} /> : render(props);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport auth from \"../../services/authServices\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst AdminProtectedRoute = ({\r\n  path,\r\n  component: Component,\r\n  render,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!auth.getCurrentUserOffLine().isAdmin) return <Redirect to=\"/\" />;\r\n        return Component ? <Component {...props} /> : render(props);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminProtectedRoute;\r\n","import React from \"react\";\r\n\r\nconst Test = () => {\r\n  return <h1>测试用</h1>;\r\n};\r\n\r\nexport default Test;\r\n","import React, { Component } from \"react\";\nimport { Route, Switch } from 'react-router-dom'\nimport NavBar from \"./component/navbar\";\nimport Message from './component/message';\nimport PersonalInformation from './component/personalInformation';\nimport Setting from './component/setting';\nimport Introduction from './component/introduction';\nimport Activities from './component/activities';\nimport MyConcern from './component/myConcern';\nimport FindFriends from './component/findFriends';\nimport auth from './services/authServices'\nimport UserList from './component/userlist';\nimport Content from \"./component/content\";\nimport Toggle from \"./component/toggle\";\nimport Register from './component/register';\nimport Login from './component/login';\nimport Logout from './component/logout';\nimport ProtectedRoute from './component/common/protectedRoute';\nimport AdminProtectedRoute from './component/common/adminProtectedRoute';\nimport \"./App.css\";\n\nimport Test from './component/test';\n\n\nclass App extends Component {\n  state = {\n    deviceType: \"computer\",\n    theme: 'daytime',\n    query: { option: \"userName\", word: \"\" }\n  };\n\n\n  handleSiwtch = (theme) => {\n    theme === 'daytime' ? theme = 'nighttime' : theme = 'daytime'\n    //   light:'daytime',black:'nighttime'\n    this.setState({ theme })\n  }\n\n  handleQueryOption = (e) => {\n    const { query } = this.state\n    query.option = e.currentTarget.value\n    this.setState({ query })\n  }\n\n  handleQuery = (e) => {\n    const { query } = this.state\n    query.word = e.currentTarget.value\n    this.setState({ query })\n  }\n\n  dateFormat(fmt, date) {\n    let ret;\n    const opt = {\n      \"Y+\": date.getFullYear().toString(),        // 年\n      \"m+\": (date.getMonth() + 1).toString(),     // 月\n      \"d+\": date.getDate().toString(),            // 日\n      \"H+\": date.getHours().toString(),           // 时\n      \"M+\": date.getMinutes().toString(),         // 分\n      \"S+\": date.getSeconds().toString()          // 秒\n      // 有其他格式化字符需求可以继续添加，必须转化成字符串\n    };\n    for (let k in opt) {\n      ret = new RegExp(\"(\" + k + \")\").exec(fmt);\n      if (ret) {\n        fmt = fmt.replace(ret[1], (ret[1].length === 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, \"0\")))\n      };\n    };\n    return fmt\n  }\n  //转换日期格式\n\n  async componentDidMount() {\n    try {\n      const user = await auth.getCurrentUser()\n      const date = this.dateFormat(\"YYYY-mm-dd HH:MM:SS\", new Date(user.registrationrDate))\n      user.registrationrDate = date\n      //坑爹的mongdb,utc时间转中国标准时间\n      this.setState({ user })\n    }\n    catch (ex) { }\n  }\n\n  handleDeviceType = (deviceType) => {\n    return document.documentElement.clientWidth < 500 ? deviceType = \"mobile\" : deviceType = \"computer\"\n  }\n  render() {\n    const { theme, user, query, deviceType } = this.state\n    const device = this.handleDeviceType(deviceType)\n    return (\n      <React.Fragment>\n        <NavBar theme={theme} user={user} onQuery={this.handleQuery} onQueryOption={this.handleQueryOption} />\n        <Toggle theme={theme} device={device} onSwitch={this.handleSiwtch} />\n        <Switch>\n          <Route path=\"/test\" component={Test} />\n          <ProtectedRoute path=\"/message\" component={Message} />\n          <ProtectedRoute path=\"/personal-information\" component={() => <PersonalInformation theme={theme} device={device} user={user} />} />\n          <AdminProtectedRoute path=\"/userlist\" component={() => <UserList theme={theme} device={device} user={user} />} />\n          <ProtectedRoute path=\"/setting\" component={() => <Setting theme={theme} device={device} user={user} />} />\n          <ProtectedRoute path=\"/introduction\" component={Introduction} />\n          <ProtectedRoute path=\"/activities\" component={Activities} />\n          <ProtectedRoute path=\"/my-concern\" component={MyConcern} />\n          <ProtectedRoute path=\"/find-friends\" component={FindFriends} />\n          <Route path=\"/register\" component={() => <Register theme={theme} device={device} />} />\n          <Route path=\"/login\" component={() => <Login theme={theme} device={device} />} />\n          <Route path=\"/logout\" component={Logout} />\n          <Route path=\"/\" component={() => <Content theme={theme} device={device} user={user} query={query} dateRevise={this.dateFormat} />} />\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconsole.log(process.env);\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}